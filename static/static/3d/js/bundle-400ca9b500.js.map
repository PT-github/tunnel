{"version":3,"file":"bundle.js","sources":["../../src/logic/EnumType.ts","../../src/logic/RoadNode.ts","../../src/script/device/MouseMeshScript.ts","../../src/script/device/AlertorScript.ts","../../src/util/UtilTool.ts","../../src/script/device/DisTextScript.ts","../../src/script/device/DraughtScript.ts","../../src/script/device/HengDongScript.ts","../../src/script/device/IndicatorScript.ts","../../src/script/device/Light01Script.ts","../../src/script/device/LightGruopScript.ts","../../src/script/device/QbBoardScript.ts","../../src/script/device/SignalLampScript.ts","../../src/script/device/DoorScript.ts","../../src/script/device/SensorScript.ts","../../src/script/device/LightGruopScript2.ts","../../src/logic/ScnenDevice.ts","../../src/logic/TunnelSprite.ts","../../src/logic/TunnelMgr.ts","../../src/Global.ts","../../src/ui/layaMaxUI.ts","../../src/script/GameUI.ts","../../src/GameConfig.ts","../../src/script/CameraScript.ts","../../src/script/ModelViewer.ts","../../src/Main.ts"],"sourcesContent":["export default class EnumType {\r\n    public static DEVICE_TYPE_QB_BOARD:number = 1; // 情报板 \r\n    public static DEVICE_TYPE_QB_BOARD_F:number = 2; // F情报板 \r\n    public static DEVICE_TYPE_DRAUGHT:number = 3; // 风机\r\n    public static DEVICE_TYPE_LIGHT01:number = 4; // 大灯01\r\n    public static DEVICE_TYPE_ALERTOR:number = 5; // 火灾警报器\r\n    public static DEVICE_TYPE_PHONE:number = 6; // 电话\r\n    public static DEVICE_TYPE_LIGHT_GRUOP:number = 7; // 6联排灯组\r\n    public static DEVICE_TYPE_SIGNAL_LAMP:number = 8; // 信号灯\r\n    public static DEVICE_TYPE_LAMP_INDICATOR:number = 9; // 车道指示器\r\n    public static DEVICE_TYPE_DOOR:number = 10; // 车行横洞卷闸门\r\n    public static DEVICE_TYPE_BROADCAST:number = 11; // 广播\r\n    public static DEVICE_TYPE_CAM:number = 12; // 摄像机\r\n    public static DEVICE_TYPE_SENSOR:number = 13; // 传感器\r\n    public static DEVICE_TYPE_LIGHT_GRUOP2:number = 14; // 6联排灯组2\r\n\r\n    public static DEVICE_TYPE_TEXT_DIS:number = 100; // 距离显示\r\n    public static DEVICE_TYPE_HENGDONG1:number = 101; // 人行横洞\r\n    public static DEVICE_TYPE_HENGDONG2:number = 102; // 车行横洞\r\n    constructor(){\r\n\r\n    }\r\n}","/**\r\n * 马路节点 用于缩放和拼接\r\n */\r\n\r\nimport GameGlobal from \"../Global\";\r\n\r\n export default class RoadNode extends Laya.Sprite3D{\r\n\r\n    private _roadID:number = 0;\r\n    /**\r\n     * 隧道节点类型\r\n     */\r\n    private _nodeType:number = 0;\r\n    /**\r\n     * 默认长度\r\n     */\r\n    private _defaultLength:number = 5;\r\n\r\n    /**\r\n     * 当前显示长度\r\n     */\r\n    private _showLength:number = 50;\r\n\r\n    /**\r\n     * 模型对象\r\n     */\r\n    private _meshNode:Laya.Sprite3D;\r\n\r\n    /**\r\n     * 上一个节点\r\n     */\r\n    public _lastNode:RoadNode;\r\n\r\n    /**\r\n     * 下一个节点\r\n     */\r\n    public _nextNode:RoadNode;\r\n    \r\n    /**\r\n     * 附加数据\r\n     */\r\n    public addData:any;\r\n\r\n    public loaded:Laya.Handler;\r\n\r\n    constructor(nodeType:number, lastNode:RoadNode = null){\r\n        super();\r\n        this._lastNode = lastNode;\r\n        if(lastNode){\r\n            lastNode._nextNode = this;\r\n        }\r\n        this._nodeType = nodeType;\r\n        let filename = \"sd_suidao01\";\r\n        switch(nodeType){\r\n            case 0: // 可缩放隧道节点\r\n\r\n                break;\r\n            case 1: // 隧道头 固定长度\r\n                filename = \"sd_rukou01\";\r\n                this._defaultLength = 18.086*2;\r\n                break;\r\n            case 2: // 隧道尾 固定长度\r\n                filename = \"sd_rukou02\";\r\n                this._defaultLength = 18.086*2;\r\n                break;\r\n            case 3: // 空洞 只有路 没有拱门\r\n                filename = \"sd_suidao02\";\r\n                break;\r\n            case 4: // 人行带门 左 固定长度\r\n                filename = \"sd_suidao02_xiaoyou\";\r\n            break;\r\n            case 5: // 人行带门 右 固定长度\r\n                filename = \"sd_suidao02_xiaozuo\";\r\n            break;\r\n            case 6: // 车行带门 左 固定长度\r\n                filename = \"sd_suidao02_you\";\r\n            break;\r\n            case 7: // 车行带门 右 固定长度\r\n                filename = \"sd_suidao02_zuo\";\r\n            break;\r\n        }\r\n        this.showLength = this._defaultLength;\r\n        Laya.Sprite3D.load(\"res/LayaScene_suidao/Conventional/\" + filename + \".lh\", Laya.Handler.create(this, this.loadMeshEnd));\r\n        this.name = filename;\r\n        \r\n    }\r\n\r\n        /**\r\n     * 模型加载结束\r\n     * @param lh \r\n     */\r\n    protected loadMeshEnd(lh:Laya.Sprite3D){\r\n        lh.transform.position.toDefault();\r\n        lh.transform.localPosition.toDefault();\r\n        this._meshNode = Laya.Sprite3D.instantiate(lh, this);\r\n        this._meshNode.transform.localScale.setValue(1, 1, 1);\r\n        this._meshNode.transform.localPosition.toDefault();\r\n\r\n        switch(this._nodeType){\r\n            case 1:\r\n                this._meshNode.transform.localPosition.setValue(0.31956, -0.0073903, 0);\r\n                break;\r\n            case 2:\r\n                this._meshNode.transform.localPosition.setValue(0.31956, -0.0073903, 0);\r\n               // this._meshNode.transform.localPosition.setValue(-0.4, 5.23, 0);\r\n                //this._meshNode.transform.rotate(new Laya.Vector3(0, 0, 180), true, false);\r\n                break;\r\n            case 4:\r\n            case 5:\r\n            case 6:\r\n            case 7:\r\n                //this._meshNode.transform.localPosition.setValue(0, 0, 0.003);\r\n                break;\r\n            case 3:\r\n            case 0: // 缩放节点需要处理UV的布局\r\n                this.setSubMaterialAttr(this._meshNode.getChildByName(\"sd_qiangbi01\"));\r\n                this.setSubMaterialAttr(this._meshNode.getChildByName(\"sd_qiangbi049\"));\r\n                this.setSubMaterialAttr(this._meshNode.getChildByName(\"sd_qiangbi051\"));\r\n                this.setSubMaterialAttr(this._meshNode.getChildByName(\"sd_lumian01-3\"));\r\n                this.setSubMaterialAttr(this._meshNode.getChildByName(\"sd_lumian01-2\"));\r\n            break;\r\n        }\r\n        this._meshNode.transform.localScale = this._meshNode.transform.localScale;\r\n        this._meshNode.transform.localPosition = this._meshNode.transform.localPosition;\r\n\r\n        if(this.loaded){\r\n            this.loaded.run();\r\n            this.loaded = null;\r\n        }\r\n        let lumian = this._meshNode.getChildByName(\"sd_lumian01-3\");\r\n        if(lumian){\r\n            lumian.active = GameGlobal.tunnelMgr.laneNums == 3;\r\n        }\r\n        let lumian1 = this._meshNode.getChildByName(\"sd_lumian01-2\");\r\n        if(lumian1){\r\n            lumian1.active = GameGlobal.tunnelMgr.laneNums == 2;\r\n        }\r\n        lumian = this._meshNode.getChildByName(\"sd_rukoudimian01-3\");\r\n        if(lumian){\r\n            lumian.active = GameGlobal.tunnelMgr.laneNums == 3;\r\n        }\r\n        lumian1 = this._meshNode.getChildByName(\"sd_rukoudimian01-2\");\r\n        if(lumian1){\r\n            lumian1.active = GameGlobal.tunnelMgr.laneNums == 2;\r\n        }\r\n        lumian = this._meshNode.getChildByName(\"sd_rukoudimian02-3\");\r\n        if(lumian){\r\n            lumian.active = GameGlobal.tunnelMgr.laneNums == 3;\r\n        }\r\n        lumian1 = this._meshNode.getChildByName(\"sd_rukoudimian02-2\");\r\n        if(lumian1){\r\n            lumian1.active = GameGlobal.tunnelMgr.laneNums == 2;\r\n        }\r\n        let view = this._meshNode.getChildByName(\"view\")\r\n        if(view){\r\n            view.active = false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 当前显示长度\r\n     */\r\n    public get showLength (){\r\n        return this._showLength;\r\n    }\r\n\r\n    /**\r\n     * 设置当前显示的长度，会自动计算偏移点\r\n     * @param len \r\n     */\r\n    public set showLength (len:number){\r\n        this._showLength = len;\r\n        // if(this._nodeType != 0){\r\n        //     return;\r\n        // }\r\n        let scale = len / this._defaultLength; // 根据长度计算出比例缩放\r\n        this.transform.localScale.z = scale;\r\n\r\n        this.transform.localScale = this.transform.localScale;\r\n        let z = - len / 2;\r\n        if(this._lastNode){\r\n            z += this._lastNode.getNextNodePos(); // 紧跟上一个节点\r\n        }else{ // 没有头，则放0的外面开始\r\n            z = len/2;\r\n        }\r\n        this.transform.localPosition.z = z;\r\n        if(this._roadID != 0){\r\n            this.transform.localPosition.x = this._roadID * -50;\r\n        }\r\n        this.transform.localPosition = this.transform.localPosition;\r\n    }\r\n\r\n    /**\r\n     * 获取下一个节点的位置\r\n     */\r\n    public getNextNodePos(){\r\n        return this.transform.localPosition.z - this._showLength/2;\r\n    }\r\n\r\n\r\n    \t/**\r\n\t * 设置子材质属性\r\n\t * @param obj \r\n\r\n\t */\r\n\tsetSubMaterialAttr(obj){\r\n        if(!obj){\r\n            return;\r\n        }\r\n\t\tif(obj instanceof Laya.MeshSprite3D){\r\n\t\t\tlet mat = obj.meshRenderer.material  as Laya.UnlitMaterial;\r\n\t\t\tmat.tilingOffsetX = this._showLength / this._defaultLength;\r\n            // let text =  mat.albedoTexture as any;\r\n            // text.closeMipmap();\r\n\t\t}\r\n\t\tfor(let i=0;i < obj.numChildren; ++i){\r\n\t\t\tthis.setSubMaterialAttr(obj.getChildAt(i) as Laya.Sprite3D);\r\n\t\t}\r\n\t}\r\n }","import GameGlobal from \"../../Global\";\r\nimport ScnenDevice from \"../../logic/ScnenDevice\";\r\nimport GameUI from \"../GameUI\";\r\n\r\nexport default class MouseMeshScript extends Laya.Script3D {\r\n\tpublic static TEMP_CAMERA_POS:Laya.Vector3 = new Laya.Vector3(0, 1, 0);\r\n\r\n\t/**\r\n\t *  场景中的节点对象\r\n\t */\r\n    protected nodeSprite:ScnenDevice; \r\n\tprivate _albedoColor = new Laya.Vector4(0.6, 0.6, 0.6, 1);\r\n\r\n\t/**\r\n\t * 默认的X方向坐标\r\n\t */\r\n\tprotected _defaultX:number = 7;\r\n\r\n\t/**\r\n\t * 摄像机查看偏移的高度\r\n\t */\r\n\tprotected _camerOffsetHeight:number = 5;\r\n\r\n\t/**\r\n\t * 摄像机查看的距离\r\n\t */\r\n\tprotected _camerOffsetDis:number = 10;\r\n\r\n\t/**\r\n\t * 摄像机查看点的高度偏移\r\n\t */\r\n\tprotected _camerLookHeight:number = 0;\r\n    constructor(){\r\n\t\tsuper();\r\n\t}\r\n\t/**\r\n\t * 数据被修改了\r\n\t */\r\n\tchangeData(data:any){\r\n\r\n\t}\r\n    /**\r\n    * 覆写3D对象组件被激活后执行，此时所有节点和组件均已创建完毕，此方法只执行一次\r\n    */\r\n    onAwake(){\r\n        this.nodeSprite = this.owner.parent as ScnenDevice;\r\n\r\n\t\tif(this._defaultX == 10000){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet x = 0;\r\n\t\t// 根据坐标id设置坐标X\r\n\t\tif(this.nodeSprite.DeviceData){\r\n\t\t\tswitch(this.nodeSprite.DeviceData.orientationLocation){\r\n\t\t\t\tcase 18:\r\n\t\t\t\tcase 16:\r\n\t\t\t\tcase 17: // 左 中\r\n\t\t\t\tcase 0:// 洞 左\r\n\t\t\t\t\tx = -this._defaultX;\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase 10: // 洞 右\r\n\t\t\t\tcase 12: // 洞 右\r\n\t\t\t\tcase 13: // 洞 右\r\n\t\t\t\tcase 14: // 洞 右\r\n\t\t\t\tcase 15: // 洞 右\r\n\t\t\t\t\tx = this._defaultX;\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase 1: //车道1\r\n\t\t\t\tcase 2: // 车道2\r\n\t\t\t\tcase 3: // 车道3\r\n\t\t\t\t\tx = this.nodeSprite.tunnelSprite.getRoadPosX(this.nodeSprite.DeviceData.orientationLocation);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// 根据位置得转换朝向\r\n\t\t\tswitch(this.nodeSprite.DeviceData.orientationLocation){\r\n\t\t\t\tcase 0:// 洞 左\r\n\t\t\t\tcase 10: // 洞 右\r\n\t\t\t\tcase 12: // 洞 右\r\n\t\t\t\tcase 13: // 洞 右\r\n\t\t\t\tcase 14: // 洞 右\r\n\t\t\t\tcase 15: // 洞 右\r\n\t\t\t\tcase 16: // 洞 左\r\n\t\t\t\tcase 18: // 洞 左\r\n\t\t\t\tcase 17: // 左 中\r\n\t\t\t\t\tif(this.nodeSprite.tunnelSprite.posType == 1){\r\n\t\t\t\t\t\tx = -x;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(x < 0){\r\n\t\t\t\t\t\tthis.nodeSprite.transform.rotate(new Laya.Vector3(0, 180, 0), true, false);\r\n\t\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(x != 0){\r\n\t\t\tthis.nodeSprite.transform.localPosition.x = x;\r\n\t\t\tthis.nodeSprite.transform.localPosition = this.nodeSprite.transform.localPosition;\r\n\t\t}\r\n    }\r\n\r\n    //物体必须拥有碰撞组件（Collider）\r\n    //当被鼠标点击\r\n    onMouseClick(){\r\n        //alert(\"点击到了我box:\" + this.owner.name);\r\n\t\tthis.cameraMoveToLook();\r\n    }\r\n\r\n\t\r\n\t/**\r\n\t * 摄像机移动到观察点\r\n\t */\r\n\tpublic cameraMoveToLook(){\r\n\t\tlet pos = MouseMeshScript.TEMP_CAMERA_POS\r\n\t\tthis.nodeSprite.transform.getForward(pos);\r\n\t\tpos.x *= -this._camerOffsetDis;\r\n\t\tpos.y *= this._camerOffsetDis;\r\n\t\tpos.z *= -this._camerOffsetDis;\r\n\r\n\t\tpos.y += this._camerOffsetHeight;\r\n\t\tLaya.Vector3.add(this.nodeSprite.transform.position, pos, pos);\r\n\r\n\t\tthis.nodeSprite.transform.position.cloneTo(GameGlobal.CameraScript.curLookPos);\r\n\t\tGameGlobal.CameraScript.curLookPos.y += this._camerLookHeight;\r\n\t\tGameGlobal.CameraScript.tweenMoveTo(pos, 500, null, GameGlobal.CameraScript.curLookPos);\r\n\t\tGameGlobal.tunnelMgr.setSelectDevice(this.nodeSprite);\t\t\r\n\t}\r\n\r\n\t/**\r\n\t * 覆写组件更新方法（相当于帧循环）\r\n\t */\r\n\tpublic onUpdate():void {\r\n\t\t//所属脚本对象旋转更新\r\n\t\t//this.meshsp.transform.rotate(this._rotation, false, false)\r\n\t}\r\n    onMouseEnter(){\r\n        //console.log(\"onMouseEnter:\", this.owner.name);\r\n\t\tthis.showSelectEffect(true);\r\n    }\r\n    onMouseOut(){\r\n        //console.log(\"onMouseOut:\", this.owner.name);\r\n\t\tthis.showSelectEffect(false);\r\n    }\r\n\r\n\t/**\r\n\t * 显示选中效果\r\n\t * @param bShow \r\n\t */\r\n\tshowSelectEffect(bShow:boolean){\r\n\t\tif(bShow){\r\n\t\t\tthis.setSubMaterialAttr(this.owner, \"albedoColor\", this._albedoColor);\r\n\t\t}else{\r\n\t\t\tthis.setSubMaterialAttr(this.owner, \"albedoColor\");\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 设置子材质属性\r\n\t * @param obj \r\n\t * @param name \r\n\t * @param data \r\n\t * @param nameBack \r\n\t */\r\n\tsetSubMaterialAttr(obj, name:string, data = null, nameBack:string = null){\r\n\t\tif(!nameBack){\r\n\t\t\tnameBack = name + \"_back\"\r\n\t\t}\r\n\t\tif(obj instanceof Laya.MeshSprite3D){\r\n\t\t\tlet mat = obj.meshRenderer.material  as Laya.UnlitMaterial;\r\n\t\t\tif(!mat[nameBack]){\r\n\t\t\t\tmat[nameBack] = mat[name]\r\n\t\t\t}\r\n\t\t\tif(data){\r\n\t\t\t\tmat[name] = data\r\n\t\t\t}else{\r\n\t\t\t\tmat[name] = mat[nameBack]\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(let i=0;i < obj.numChildren; ++i){\r\n\t\t\tthis.setSubMaterialAttr(obj.getChildAt(i) as Laya.Sprite3D, name, data, nameBack);\r\n\t\t}\r\n\t}\r\n}","import EnumType from \"../../logic/EnumType\";\r\nimport ScnenDevice from \"../../logic/ScnenDevice\";\r\nimport MouseMeshScript from \"./MouseMeshScript\";\r\n\r\nexport default class AlertorScript extends MouseMeshScript{\r\n    private _lastShowTime:number = 0;\r\n    constructor(){\r\n        super();\r\n    }\r\n\r\n    onAwake(){\r\n        this._camerOffsetDis = 5;\r\n        this._camerOffsetHeight = 0;\r\n        this.nodeSprite = this.owner.parent as ScnenDevice;\r\n        switch(this.nodeSprite.deviceType){\r\n            case EnumType.DEVICE_TYPE_ALERTOR: // 火灾报警器\r\n                this._camerOffsetDis = 8;\r\n                this._defaultX = 7;\r\n                break;\r\n            case EnumType.DEVICE_TYPE_PHONE: // 电话\r\n                this._defaultX = 7.2;\r\n                break;\r\n            case EnumType.DEVICE_TYPE_BROADCAST: // 广播\r\n                this._defaultX = 6.2;\r\n                break;\r\n            case EnumType.DEVICE_TYPE_CAM: // 摄像机 \r\n                this._defaultX = 6.17;\r\n                break;\r\n        }\r\n        super.onAwake();\r\n    }\r\n\r\n    onStart(){\r\n\r\n        let y = 0;\r\n        switch(this.nodeSprite.deviceType){\r\n            case EnumType.DEVICE_TYPE_ALERTOR: // 火灾报警器\r\n                y = 2.1;\r\n                break;\r\n            case EnumType.DEVICE_TYPE_PHONE: // 电话\r\n                y = 1.45;\r\n                break;\r\n            case EnumType.DEVICE_TYPE_BROADCAST: // 广播\r\n                y = 3.4;\r\n                break;\r\n            case EnumType.DEVICE_TYPE_CAM: // 摄像机 \r\n                y = 4.96;\r\n                break;\r\n        }\r\n        this.nodeSprite.transform.localPosition.y = y; // 固定高度偏移\r\n        //this.nodeSprite.transform.localPosition.x = 7;\r\n        \r\n        this.nodeSprite.transform.localPosition = this.nodeSprite.transform.localPosition;\r\n        this.nodeSprite.transform.rotate(new Laya.Vector3(0, -90, 0), true, false);\r\n\r\n        this.changeData();\r\n    }\r\n\r\n    onUpdate(){\r\n        super.onUpdate()\r\n        if(this.nodeSprite.deviceType != EnumType.DEVICE_TYPE_ALERTOR){// 火灾报警器\r\n            return;\r\n        }\r\n        if(this.nodeSprite.DeviceData.workMode != 1){\r\n            return;\r\n        }\r\n        let curtime =  Date.now();\r\n        if(curtime - this._lastShowTime < 400){\r\n            return\r\n        }\r\n        this._lastShowTime = curtime;\r\n        let mesh = this.owner.getChildByName(\"sd_huozhaijingbao01_jingbaodeng\");\r\n        if(mesh){\r\n            mesh.active = !mesh.active;\r\n        }\r\n        \r\n    }\r\n\r\n    changeData(){\r\n        if(this.nodeSprite.deviceType != EnumType.DEVICE_TYPE_ALERTOR){// 火灾报警器\r\n            return;\r\n        }\r\n\r\n        let mesh = this.owner.getChildByName(\"sd_huozhaijingbao01_jingbaodeng\");\r\n        if(mesh){\r\n            mesh.active = false;\r\n        }\r\n        let mesh1 = this.owner.getChildByName(\"Light\");\r\n        if(mesh1){\r\n            mesh1.active = this.nodeSprite.DeviceData.workMode == 1;\r\n        }\r\n    }\r\n}","/**\r\n* 工具类\r\n*/\r\nexport default class UtilTool {\r\n\t/**\r\n\t* 创建3D文字纹理\r\n\t* @param str 文字内容\r\n\t* @param fontSize 文字大小  \r\n\t*/\r\n\tpublic static createText3D(str:string, fontSize:number = 50, ftClolor:string = \"rgb(240,0,0)\", font:string = \"宋体\"){\r\n\t\tlet textary = str.split(/[\\n]/);\r\n\t\tlet maxw = 0;\r\n\t\tlet linecount = textary.length;\r\n\t\ttextary.forEach(t => {\r\n\t\tlet w = t.replace(/[\\u0391-\\uFFE5]/g,\"aa\").length / 2 * (fontSize + 2);\r\n\t\tmaxw = Math.max(w, maxw);\r\n\t\t});\r\n\t\tlet width = maxw;//str.replace(/[\\u0391-\\uFFE5]/g,\"aa\").length / 2 * (fontSize + 2);\r\n\t\twidth = Math.max(width, fontSize * 3);\r\n\r\n\t\t//画布cavans\r\n\t\tlet cav = Laya.Browser.createElement(\"canvas\");\r\n\t\tvar cxt = cav.getContext(\"2d\");\r\n\t\tcav.width = width;\r\n\t\tcav.height = fontSize * linecount;\r\n\t\tcxt.fillStyle = ftClolor;\r\n\t\tcxt.font = \"bold \"+ fontSize + \"px \" + font;\r\n\t\tcxt.textAlign = \"left\";//文本的对齐方式\r\n\t\tcxt.textBaseline = \"top\";//文本相对于起点的位置\r\n\r\n\t\tfor(let i = 0; i < linecount; ++i){\r\n\t\tcxt.fillText(textary[i], 0, i * fontSize); //设置文字,位置\r\n\t\t}\r\n\t\t\r\n\r\n\t\t// 生成纹理\r\n\t\tlet texture2D = new Laya.Texture2D(128, 128);\r\n\t\ttexture2D.loadImageSource(cav);\r\n\r\n\t\tLaya.Browser.removeElement(cav);\r\n\t\treturn texture2D;\r\n\t}\r\n\r\n\r\n}\r\n","import UtilTool from \"../../util/UtilTool\";\r\nimport MouseMeshScript from \"./MouseMeshScript\";\r\n\r\n\r\nexport default class DisTextScript extends MouseMeshScript{\r\n\r\n    private meshsp:Laya.MeshSprite3D;\r\n    constructor(){\r\n        super();\r\n    }\r\n\r\n\r\n    onStart(){\r\n       this.meshsp = this.owner as Laya.MeshSprite3D;\r\n       this.meshsp.transform.localPosition.y = 0.3;\r\n       this.meshsp.transform.localPosition = this.meshsp.transform.localPosition;\r\n       if(this.nodeSprite.showData){\r\n           if(!this.nodeSprite.DeviceData){\r\n                this.meshsp.transform.localScale = new Laya.Vector3(1, 1, 0.35); \r\n           }\r\n           this.setText(this.nodeSprite.showData, \"宋体\");\r\n           \r\n       }else{\r\n            let dis = -(this.meshsp.parent as Laya.Sprite3D).transform.localPosition.z;\r\n            this.setText(dis + \"M\", \"宋体\");\r\n\r\n            let node = (this.meshsp.parent as Laya.Sprite3D);\r\n            node.transform.localPosition = node.transform.localPosition; // 让坐标再生效一次 外面设置不知道为什么不生效\r\n       }\r\n\r\n       if(this.nodeSprite.tunnelSprite.posType == 1){\r\n            this.meshsp.transform.rotate(new Laya.Vector3(0, 180, 0), true, false);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 设置文本显示\r\n     */\r\n    setText(text:string, font:string){\r\n        let tex = UtilTool.createText3D(text, 50, \"rgb(240,240,240)\", font);\r\n        let mat = this.meshsp.meshRenderer.material as Laya.EffectMaterial\r\n        mat.texture = tex;\r\n    }\r\n}","import MouseMeshScript from \"./MouseMeshScript\";\r\n\r\n/***\r\n * 风机\r\n */\r\nexport default class DraughtScript extends MouseMeshScript {\r\n\r\n    public static ROTATE_TYPE_VALUE_1:Laya.Vector3 = new Laya.Vector3(0, 0.1, 0);\r\n    public static ROTATE_TYPE_VALUE_2:Laya.Vector3 = new Laya.Vector3(0, -0.1, 0);\r\n    /**\r\n     * 旋转类型0不旋转，1顺时针，2反时针\r\n     */\r\n    private _rotateType:number = 0;\r\n\r\n    private _fengshanMesh:Laya.Sprite3D;\r\n    constructor(){\r\n        super();\r\n    }\r\n\r\n\r\n    onStart(){\r\n        super.onAwake();\r\n        this._camerOffsetHeight = 0.5;\r\n\r\n        this._fengshanMesh = this.owner.getChildByName(\"sd_wj_sd_fengji01_02\") as Laya.Sprite3D;\r\n\r\n        // 设置在场景中高度\r\n\t\tthis.nodeSprite.transform.localPosition.y = 7;\r\n        //this.nodeSprite.transform.localPosition.z = 0;\r\n\t\tthis.nodeSprite.transform.localPosition = this.nodeSprite.transform.localPosition;\r\n\r\n        this._rotateType = 2;\r\n        this.updateState();\r\n    }\r\n\r\n    onUpdate(){\r\n        super.onUpdate();\r\n        if(!this._fengshanMesh){\r\n            return;\r\n        }\r\n        switch(this._rotateType){\r\n            case 1:\r\n                this._fengshanMesh.transform.rotate(DraughtScript.ROTATE_TYPE_VALUE_1);\r\n                break;\r\n            case 2:\r\n                this._fengshanMesh.transform.rotate(DraughtScript.ROTATE_TYPE_VALUE_2);\r\n                break;\r\n        }\r\n    }\r\n\r\n    updateState(){\r\n        this._rotateType = this.nodeSprite.DeviceData.workMode;\r\n    }\r\n\r\n    changeData(data:any){\r\n        super.changeData(data);\r\n        this.updateState();\r\n    }\r\n}","import MouseMeshScript from \"./MouseMeshScript\";\r\n\r\nexport default class HengDongScript extends MouseMeshScript{\r\n    constructor(){\r\n        super();\r\n    }\r\n\r\n    onAwake(){\r\n        this._defaultX = 7;\r\n        super.onAwake();\r\n    }\r\n\r\n    onStart(){\r\n\r\n        this._camerOffsetDis = 5;\r\n        this._camerOffsetHeight = 0;\r\n\r\n        //this.nodeSprite.transform.localPosition.y = 0; // 固定高度偏移\r\n        this.nodeSprite.transform.localPosition.x = -14.359;\r\n        \r\n        this.nodeSprite.transform.localPosition = this.nodeSprite.transform.localPosition;\r\n    }\r\n}","import MouseMeshScript from \"./MouseMeshScript\"\r\n\r\n/**\r\n * 车道指示器\r\n */\r\nexport default class IndicatorScript extends MouseMeshScript{\r\n\r\n    private _imgList:Array<string> = new Array(\"sd_jinzhi02\", \"sd_zhengxiang01\", \"sd_jinzhi02\", \"sd_zuozhuan01\");\r\n    private _imgList2:Array<string> = new Array(\"sd_jinzhi01\", \"sd_zhengxiang02\", \"sd_jinzhi011\", \"sd_zuozhuan02\");\r\n    constructor(){\r\n        super();\r\n    }\r\n\r\n    onAwake(){\r\n        super.onAwake();\r\n    }\r\n\r\n    onStart(){\r\n        super.onStart();\r\n\r\n        this._camerOffsetDis = 5;\r\n        this._camerOffsetHeight = 0;\r\n        \r\n        this.nodeSprite.transform.localPosition.y = 7; // 固定高度偏移\r\n        \r\n        this.nodeSprite.transform.localPosition = this.nodeSprite.transform.localPosition;\r\n\r\n        let bExit = this.nodeSprite.transform.localPositionZ < -10;\r\n        if(bExit){\r\n            this.nodeSprite.transform.rotate(new Laya.Vector3(0, 180, 0), true, false);\r\n        }\r\n\r\n       this.changeData();\r\n    }\r\n\r\n\r\n    changeData(){\r\n        let sp = this.owner as Laya.Sprite3D;\r\n        for(let i = 0; i < this._imgList.length; ++i){\r\n            let img = sp.getChildByName(this._imgList[i]);\r\n            if(img){\r\n                img.active = false;\r\n            }\r\n            let img2 = sp.getChildByName(this._imgList2[i]);\r\n            if(img2){\r\n                img2.active = false;\r\n            }\r\n        }\r\n        let showimg = sp.getChildByName(this._imgList[this.nodeSprite.DeviceData.workMode]);\r\n        if(showimg){\r\n            showimg.active = true;\r\n        }\r\n\r\n        // 反向通行\r\n        if(this.nodeSprite.DeviceData.workMode == 2){\r\n            showimg = sp.getChildByName(this._imgList2[1]);\r\n            showimg.active = true;\r\n        }else{\r\n            showimg = sp.getChildByName(this._imgList2[0]); // 背面禁止通行\r\n            showimg.active = true;\r\n        }\r\n    }\r\n}","import ScnenDevice from \"../../logic/ScnenDevice\";\r\nimport MouseMeshScript from \"./MouseMeshScript\";\r\n\r\nexport default class Light01Script extends MouseMeshScript{\r\n\r\n    constructor(){\r\n        super();\r\n    }\r\n\r\n    onAwake(){\r\n        this.nodeSprite = this.owner.parent as ScnenDevice;\r\n        this._defaultX = 4;\r\n        if(this.nodeSprite.DeviceData.orientationLocation == 17){\r\n            this._defaultX = 14;\r\n        }\r\n        super.onAwake();\r\n    }\r\n\r\n    onStart(){\r\n        super.onStart();\r\n\r\n        this._camerOffsetDis = 5;\r\n        this._camerOffsetHeight = 0;\r\n\r\n        this.nodeSprite.transform.localPosition.y = 7; // 固定高度偏移\r\n        \r\n        if(this.nodeSprite.DeviceData.orientationLocation != 17){\r\n            this.nodeSprite.transform.rotate(new Laya.Vector3(0, -90, 0), true, false);\r\n        }else{// 横洞中的距离单独处理\r\n            this.nodeSprite.transform.localPosition.y = 3; // 固定高度偏移\r\n            let ms = this.owner as Laya.Sprite3D;\r\n            ms.transform.localPosition.z = -4;\r\n            ms.transform.localPosition = ms.transform.localPosition;\r\n        }\r\n        this.nodeSprite.transform.localPosition = this.nodeSprite.transform.localPosition;\r\n\r\n        this.changeData();\r\n    }\r\n    \r\n    setOpen(bOpen:boolean){\r\n        let sp3 = this.owner as Laya.Sprite3D;\r\n        let light = sp3.getChildByName(\"sd_dadeng02\") as Laya.MeshSprite3D;\r\n        light.getChildAt(0).active = bOpen;\r\n        let mat = light.meshRenderer.material as Laya.EffectMaterial;\r\n        if(bOpen){\r\n            mat.colorA = 1;\r\n        }else{\r\n            mat.colorA = 0.1;\r\n        }\r\n        \r\n    }\r\n\r\n    changeData(){\r\n        this.setOpen(this.nodeSprite.DeviceData.workMode == 1);\r\n    }\r\n}","import ScnenDevice from \"../../logic/ScnenDevice\";\r\nimport UtilTool from \"../../util/UtilTool\";\r\nimport MouseMeshScript from \"./MouseMeshScript\";\r\n\r\n\r\nexport default class LightGruopScript extends MouseMeshScript{\r\n\r\n    constructor(){\r\n        super();\r\n    }\r\n    onAwake(){\r\n        this.nodeSprite = this.owner.parent as ScnenDevice;\r\n        this._defaultX = 6.8;\r\n        if(this.nodeSprite.DeviceData.orientationLocation == 17){\r\n            this._defaultX = 16;\r\n        }\r\n        super.onAwake();\r\n    }\r\n\r\n    onStart(){\r\n        this._camerOffsetDis = 5;\r\n        this._camerOffsetHeight = 0;\r\n\r\n        this.nodeSprite.transform.localPosition.y = 3.2; // 固定高度偏移\r\n        this.nodeSprite.transform.localPosition = this.nodeSprite.transform.localPosition;\r\n\r\n        if(this.nodeSprite.DeviceData.orientationLocation != 17){\r\n            this.nodeSprite.transform.rotate(new Laya.Vector3(0, -90, 0), true, false);\r\n        }else{\r\n            // 横洞中的距离单独处理\r\n            let ms = this.owner as Laya.Sprite3D;\r\n            ms.transform.localPosition.z = -4;\r\n            ms.transform.localPosition = ms.transform.localPosition;\r\n        }\r\n        \r\n\r\n        this.changeData();\r\n    }\r\n\r\n    setOpen(bOpen:boolean){\r\n        let sp3 = this.owner as Laya.Sprite3D;\r\n        for(let i = 0; i < 6; i ++){\r\n            let light = sp3.getChildAt(i);\r\n            let sp0 = light.getChildAt(0) as Laya.Sprite3D;\r\n            let sp1 = light.getChildAt(1) as Laya.Sprite3D;\r\n            sp0.active = bOpen;\r\n            sp1.active = !bOpen;\r\n        }\r\n    }\r\n\r\n    changeData(){\r\n        this.setOpen(this.nodeSprite.DeviceData.workMode == 1);\r\n    }\r\n}","import EnumType from \"../../logic/EnumType\";\r\nimport UtilTool from \"../../util/UtilTool\";\r\nimport MouseMeshScript from \"./MouseMeshScript\";\r\n\r\n/***\r\n * 情报板\r\n */\r\nexport default class QbBoardScript extends MouseMeshScript {\r\n\r\n    constructor(){\r\n        super();\r\n    }\r\n\r\n        /**\r\n    * 覆写3D对象组件被激活后执行，此时所有节点和组件均已创建完毕，此方法只执行一次\r\n    */\r\n    onStart(){\r\n        super.onAwake();\r\n\t\tthis._camerOffsetHeight = 15;\r\n\t\tthis._camerLookHeight = 4;\r\n\r\n        let bExit = this.nodeSprite.transform.localPositionZ < -10;\r\n\t\t// 临时设置到场景中的位置\r\n        if(this.nodeSprite.deviceType == EnumType.DEVICE_TYPE_QB_BOARD_F){\r\n            this.nodeSprite.transform.localPosition.x = 8.6;\r\n            //this.nodeSprite.transform.localPosition.z = 32;\r\n            this.showText(this.nodeSprite.DeviceData.contentText, 50);\r\n            if(bExit){\r\n                this.nodeSprite.transform.localPosition.x = 7.6;\r\n            }\r\n\r\n        }else{\r\n            let sp = this.owner as Laya.Sprite3D;\r\n            sp.transform.localPosition.y = 9.28;\r\n\t\t    sp.transform.localPosition = sp.transform.localPosition;\r\n            this.nodeSprite.transform.localPosition.x = 0;\r\n            //this.nodeSprite.transform.localPosition.z = 22;\r\n            this.showText(this.nodeSprite.DeviceData.contentText, 50);\r\n        }\r\n\r\n        if(bExit){ // 在出口要旋转\r\n            this.nodeSprite.transform.localPosition.x = -this.nodeSprite.transform.localPosition.x;\r\n            this.nodeSprite.transform.rotate(new Laya.Vector3(0, 180, 0), true, false);\r\n        }\r\n\t\t\r\n\t\tthis.nodeSprite.transform.localPosition = this.nodeSprite.transform.localPosition;\r\n   }\r\n\r\n   /**\r\n    * 设置情报板内容\r\n    * @param str \r\n    */\r\n   showText(str:string, ftSize:number){\r\n       if(!str || str == \"\"){\r\n           return;\r\n       }\r\n        let meshsp = this.owner.getChildAt(0) as Laya.MeshSprite3D;\r\n        let anm:Laya.Animator = meshsp.getComponent(Laya.Animator);\r\n        let tex = UtilTool.createText3D(str,50, \"rgb(250,0,0)\", \"Microsoft YaHei\");\r\n        let mat = meshsp.meshRenderer.material as Laya.EffectMaterial\r\n        mat.texture = tex;\r\n        \r\n        if(anm){\r\n            let w = str.replace(/[\\u0391-\\uFFE5]/g,\"aa\").length; // 文字数量，中文占2个\r\n            anm.speed = 10 / w; // 根据数字匹配对应的速度\r\n        }\r\n   }\r\n}\r\n","\r\nimport MouseMeshScript from \"./MouseMeshScript\"\r\n\r\n/**\r\n * 信号灯\r\n */\r\nexport default class SignalLampScript extends MouseMeshScript{\r\n\r\n    private _imgs:Array<string> = new Array(\"sd_lvdeng001\", \"sd_hongdeng001\", \"sd_huangdeng001\", \"sd_zuozhuandeng001\", \"sd_youzhuandeng001\"); // 交通信号灯：0绿灯 1红灯 2黄灯 3左转 4右转\r\n    constructor(){\r\n        super();\r\n    }\r\n\r\n    onAwake(){\r\n        super.onAwake();\r\n    }\r\n\r\n    onStart(){\r\n        super.onStart();\r\n\r\n        \r\n        this._camerOffsetDis = 5;\r\n        this._camerOffsetHeight = 0;\r\n        \r\n        this.nodeSprite.transform.localPosition.x = 0;\r\n        this.nodeSprite.transform.localPosition.y = 7; // 固定高度偏移\r\n        this.nodeSprite.transform.localPosition = this.nodeSprite.transform.localPosition;\r\n        \r\n        let bExit = this.nodeSprite.transform.localPositionZ < -10;\r\n        if(bExit){\r\n            this.nodeSprite.transform.rotate(new Laya.Vector3(0, 180, 0), true, false);\r\n        }\r\n        this.changeData();\r\n    }\r\n\r\n\r\n    changeData(){\r\n        let sp = this.owner as Laya.Sprite3D;\r\n        for(let i=0;i < this._imgs.length; ++i){\r\n            let img = sp.getChildByName(this._imgs[i]);\r\n            img.active = (this.nodeSprite.DeviceData.workMode == i)\r\n        }\r\n    }\r\n}","import MouseMeshScript from \"./MouseMeshScript\";\r\n\r\nexport default class DoorScript extends MouseMeshScript{\r\n    constructor(){\r\n        super();\r\n    }\r\n\r\n    onAwake(){\r\n        // this._defaultX = 10000;\r\n        this._defaultX = 6.8;\r\n        super.onAwake();\r\n    }\r\n\r\n    onStart(){\r\n\r\n        this._camerOffsetDis = 7;\r\n        this._camerOffsetHeight = 2;\r\n\r\n        let meshsp = this.owner as Laya.Sprite3D;\r\n        meshsp.transform.localPosition.x = 4.65;\r\n        if(this.nodeSprite.transform.localPosition.x > 0){\r\n            meshsp.transform.localPosition.x = -0.36;\r\n        }\r\n        meshsp.transform.localPosition = meshsp.transform.localPosition;\r\n\r\n        this.nodeSprite.transform.localPosition.y = 2.30; // 固定高度偏移\r\n        //this.nodeSprite.transform.localPosition.x = -6.6;\r\n        \r\n        this.nodeSprite.transform.localPosition = this.nodeSprite.transform.localPosition;\r\n        this.nodeSprite.transform.rotate(new Laya.Vector3(0, -90, 0), true, false);\r\n        this.changeData();\r\n    }\r\n    \r\n    changeData(){\r\n        let ms = this.owner.getChildByName(\"sd_juanzhamen01\") as Laya.Sprite3D;\r\n        ms.transform.localPositionY = 1.564;\r\n        switch(this.nodeSprite.DeviceData.workMode){\r\n            case 0:\r\n                ms.active = true;\r\n                ms.transform.localScaleZ = 0.5;\r\n                ms.transform.localScale = ms.transform.localScale;\r\n                ms.transform.localPositionY = 2.2;\r\n                break;\r\n            case 1:\r\n                ms.active = false;\r\n                break;\r\n            case 2:\r\n                ms.active = true;\r\n                break;\r\n        }\r\n        ms.transform.localPosition = ms.transform.localPosition;\r\n    }\r\n}","import EnumType from \"../../logic/EnumType\";\r\nimport ScnenDevice from \"../../logic/ScnenDevice\";\r\nimport UtilTool from \"../../util/UtilTool\";\r\nimport MouseMeshScript from \"./MouseMeshScript\";\r\n\r\nexport default class SensorScript extends MouseMeshScript{\r\n    constructor(){\r\n        super();\r\n    }\r\n\r\n    onAwake(){\r\n        this._defaultX = 6.77;\r\n        super.onAwake();\r\n    }\r\n\r\n    onStart(){\r\n\r\n        this._camerOffsetDis = -5;\r\n        this._camerOffsetHeight = 0;\r\n\r\n        this.nodeSprite.transform.localPosition.y = 7.188; // 固定高度偏移\r\n        this.nodeSprite.transform.localPosition = this.nodeSprite.transform.localPosition;\r\n        this.nodeSprite.transform.rotate(new Laya.Vector3(90, 0, 0), true, false);\r\n        this.changeData();\r\n    }\r\n\r\n    changeData(){\r\n        if(this.nodeSprite.DeviceData.contentText){}\r\n       this.showText(this.nodeSprite.DeviceData.contentText, 30);\r\n    }\r\n\r\n       /**\r\n    * 设置情报板内容\r\n    * @param str \r\n    */\r\n   showText(str:string, ftSize:number){\r\n        let meshsp = this.owner.getChildAt(0) as Laya.MeshSprite3D;\r\n        if(!str || str == \"\"){\r\n            meshsp.active = false;\r\n            return;\r\n        }\r\n        meshsp.active = true;\r\n        let tex = UtilTool.createText3D(str,50, \"rgb(250,0,0)\", \"Microsoft YaHei\");\r\n        let mat = meshsp.meshRenderer.material as Laya.EffectMaterial\r\n        mat.texture = tex;\r\n        let textary = str.split(/[\\n]/);\r\n        if(textary.length == 1){\r\n            meshsp.transform.localScaleZ = 0.0705931 / 2;\r\n        }else{\r\n            meshsp.transform.localScaleZ = 0.0705931;\r\n        }\r\n        meshsp.transform.localScale = meshsp.transform.localScale;\r\n    }\r\n}","import ScnenDevice from \"../../logic/ScnenDevice\";\r\nimport MouseMeshScript from \"./MouseMeshScript\";\r\n\r\n\r\nexport default class LightGruopScript2 extends MouseMeshScript{\r\n\r\n    constructor(){\r\n        super();\r\n    }\r\n    onAwake(){\r\n\r\n        this._defaultX = 4;\r\n        super.onAwake();\r\n    }\r\n\r\n    onStart(){\r\n        this._camerOffsetDis = 5;\r\n        this._camerOffsetHeight = 0;\r\n\r\n        this.nodeSprite.transform.localPosition.y = 7; // 固定高度偏移\r\n        this.nodeSprite.transform.localPosition = this.nodeSprite.transform.localPosition;\r\n\r\n        this.nodeSprite.transform.rotate(new Laya.Vector3(0, -90, 0), true, false);\r\n        this.changeData();\r\n    }\r\n\r\n    setOpen(bOpen:boolean){\r\n        let sp3 = this.owner as Laya.Sprite3D;\r\n        for(let i = 0; i < 6; i ++){\r\n            let light = sp3.getChildAt(i).getChildByName(\"sd_dadeng02\") as Laya.MeshSprite3D;\r\n            light.getChildAt(0).active = bOpen;\r\n            let mat = light.meshRenderer.material as Laya.EffectMaterial;\r\n            if(bOpen){\r\n                mat.colorA = 1;\r\n            }else{\r\n                mat.colorA = 0.1;\r\n            }\r\n        }\r\n    }\r\n\r\n    changeData(){\r\n        this.setOpen(this.nodeSprite.DeviceData.workMode == 1);\r\n    }\r\n}","import AlertorScript from \"../script/device/AlertorScript\";\r\nimport DisTextScript from \"../script/device/DisTextScript\";\r\nimport DraughtScript from \"../script/device/DraughtScript\";\r\nimport HengDongScript from \"../script/device/HengDongScript\";\r\nimport IndicatorScript from \"../script/device/IndicatorScript\";\r\nimport Light01Script from \"../script/device/Light01Script\";\r\nimport LightGruopScript from \"../script/device/LightGruopScript\";\r\nimport MouseMeshScript from \"../script/device/MouseMeshScript\";\r\nimport QbBoardScripte from \"../script/device/QbBoardScript\";\r\nimport SignalLampScript from \"../script/device/SignalLampScript\";\r\nimport DoorScript from \"../script/device/DoorScript\";\r\n\r\nimport EnumType from \"./EnumType\";\r\nimport TunnelSprite from \"./TunnelSprite\";\r\nimport SensorScript from \"../script/device/SensorScript\";\r\nimport LightGruopScript2 from \"../script/device/LightGruopScript2\";\r\n\r\n/**\r\n * 隧道设备基类\r\n */\r\nexport default class ScnenDevice extends Laya.Sprite3D {\r\n    /**\r\n     * 附带数据\r\n     */\r\n    private _deviceData:any;\r\n\r\n    /**\r\n     *  显示数据\r\n     */\r\n    private _showData:any;\r\n\r\n    /**\r\n     * 设备类型\r\n     */\r\n    private _deviceType:number;\r\n\r\n\r\n    constructor(dt:number) {\r\n        super();\r\n\r\n        this._deviceType = dt;\r\n        switch(this._deviceType){\r\n            case EnumType.DEVICE_TYPE_QB_BOARD:\r\n                this.loadItem(\"sd_qingbaoban02\");\r\n            break;\r\n            case EnumType.DEVICE_TYPE_QB_BOARD_F:\r\n                this.loadItem(\"sd_qingbaoban01\");\r\n            break;\r\n            case EnumType.DEVICE_TYPE_DRAUGHT:\r\n                this.loadItem(\"sd_wj_sd_fengji01\");\r\n            break;\r\n            case EnumType.DEVICE_TYPE_LIGHT01:\r\n                this.loadItem(\"sd_dadeng01\");    \r\n            break;\r\n            case EnumType.DEVICE_TYPE_TEXT_DIS:\r\n                this.loadItem(\"textdis\");\r\n            break;\r\n            case EnumType.DEVICE_TYPE_ALERTOR:\r\n                this.loadItem(\"sd_huozhaijingbao01\");\r\n            break;\r\n            case EnumType.DEVICE_TYPE_PHONE:\r\n                this.loadItem(\"sd_dianhua01\");\r\n            break;\r\n            case EnumType.DEVICE_TYPE_BROADCAST:\r\n                this.loadItem(\"sd_guangbo01\");\r\n                break;\r\n            case EnumType.DEVICE_TYPE_LIGHT_GRUOP:\r\n                this.loadItem(\"dengzu01\");\r\n            break;\r\n            case EnumType.DEVICE_TYPE_LIGHT_GRUOP2:\r\n                this.loadItem(\"dengzu02\");\r\n                break;\r\n            case EnumType.DEVICE_TYPE_SIGNAL_LAMP:\r\n                this.loadItem(\"sd_xinhaodeng01\");\r\n            break;\r\n            case EnumType.DEVICE_TYPE_LAMP_INDICATOR:\r\n                this.loadItem(\"sd_daoluzhishideng01\");\r\n            break;\r\n            case EnumType.DEVICE_TYPE_HENGDONG1:\r\n                this.loadItem(\"sd_hengdao02\");\r\n            break;\r\n            case EnumType.DEVICE_TYPE_HENGDONG2:\r\n                this.loadItem(\"sd_hengdao01\");\r\n            break;\r\n            case EnumType.DEVICE_TYPE_DOOR:\r\n                this.loadItem(\"suidaomen01\");\r\n                break;\r\n            case EnumType.DEVICE_TYPE_CAM:\r\n                this.loadItem(\"sd_shexiangtou01\");\r\n                break;\r\n            case EnumType.DEVICE_TYPE_SENSOR:\r\n                this.loadItem(\"chuangganqi01\");\r\n                break;\r\n        }\r\n    }\r\n\r\n    loadItem(name:string) {\r\n       Laya.Sprite3D.load(\"res/LayaScene_suidao/Conventional/\" + name +\".lh\", Laya.Handler.create(this, this.loadMeshEnd));\r\n       this.name = name;\r\n    } \r\n\r\n    /**\r\n     * 隧道对象\r\n     */\r\n    get tunnelSprite(){\r\n        return this.parent as TunnelSprite;\r\n    }\r\n\r\n    /**\r\n     * 设备类型\r\n     */\r\n    get deviceType(){\r\n        return this._deviceType;\r\n    }\r\n\r\n    /**\r\n     * 获取设备操作脚本\r\n     * @returns \r\n     */\r\n    getDeviceScirpt() {\r\n        let sp3d = this.getChildAt(0);\r\n        if(!sp3d){\r\n            return null;\r\n        }\r\n        return sp3d.getComponent(MouseMeshScript);\r\n    }\r\n\r\n    /**\r\n     * 模型加载结束\r\n     * @param lh \r\n     */\r\n    public loadMeshEnd(lh:Laya.Sprite3D, bBind:boolean = false){\r\n        let sp3d = lh;\r\n        if(!bBind){\r\n            lh.transform.position.toDefault();\r\n            lh.transform.localPosition.toDefault();\r\n            sp3d = Laya.Sprite3D.instantiate(lh, this);\r\n            sp3d.transform.localPosition.toDefault();\r\n            sp3d.transform.localPosition = sp3d.transform.localPosition;\r\n        }else{\r\n            this.addChild(lh);\r\n        }\r\n\r\n        switch(this._deviceType){\r\n            case EnumType.DEVICE_TYPE_QB_BOARD_F:\r\n            case EnumType.DEVICE_TYPE_QB_BOARD:\r\n                sp3d.addComponent(QbBoardScripte);\r\n            break;\r\n            case EnumType.DEVICE_TYPE_DRAUGHT:\r\n                sp3d.addComponent(DraughtScript);\r\n            break;\r\n            case EnumType.DEVICE_TYPE_LIGHT01:\r\n                sp3d.addComponent(Light01Script);\r\n            break;\r\n            case EnumType.DEVICE_TYPE_TEXT_DIS:\r\n                sp3d.addComponent(DisTextScript);    \r\n            break;\r\n            case EnumType.DEVICE_TYPE_CAM:\r\n            case EnumType.DEVICE_TYPE_ALERTOR:\r\n            case EnumType.DEVICE_TYPE_PHONE:\r\n            case EnumType.DEVICE_TYPE_BROADCAST:\r\n                sp3d.addComponent(AlertorScript);    \r\n            break;\r\n            case EnumType.DEVICE_TYPE_LIGHT_GRUOP:\r\n                sp3d.addComponent(LightGruopScript);  \r\n            break;\r\n            case EnumType.DEVICE_TYPE_LIGHT_GRUOP2:\r\n                sp3d.addComponent(LightGruopScript2); \r\n                break;\r\n            case EnumType.DEVICE_TYPE_SIGNAL_LAMP:\r\n                sp3d.addComponent(SignalLampScript);\r\n            break;\r\n            case EnumType.DEVICE_TYPE_LAMP_INDICATOR:\r\n                sp3d.addComponent(IndicatorScript);\r\n            break;\r\n            case EnumType.DEVICE_TYPE_HENGDONG1:\r\n            case EnumType.DEVICE_TYPE_HENGDONG2:\r\n                sp3d.addComponent(HengDongScript);\r\n            break;\r\n            case EnumType.DEVICE_TYPE_DOOR:\r\n                sp3d.addComponent(DoorScript);\r\n            break;\r\n            case EnumType.DEVICE_TYPE_SENSOR:\r\n                sp3d.addComponent(SensorScript);\r\n                break;\r\n        }\r\n    }\r\n\r\n    get DeviceData(){\r\n        return this._deviceData;\r\n    }\r\n\r\n    public changeData(data){\r\n        this._deviceData = data;\r\n        let sc = this.getDeviceScirpt() as MouseMeshScript;\r\n        if(sc){\r\n            sc.changeData(data);\r\n        }\r\n    }\r\n\r\n    get showData(){\r\n        return this._showData;\r\n    }\r\n\r\n    /**\r\n     * 切换显示数据\r\n     * @param data \r\n     */\r\n    public changeShowData(data:any){\r\n        this._showData = data;\r\n        let sc = this.getDeviceScirpt() as MouseMeshScript;\r\n        if(sc){\r\n            sc.changeData(data);\r\n        }\r\n    }\r\n}","import GameGlobal from \"../Global\";\r\nimport MouseMeshScript from \"../script/device/MouseMeshScript\";\r\nimport UtilTool from \"../util/UtilTool\";\r\nimport EnumType from \"./EnumType\";\r\nimport RoadNode from \"./RoadNode\";\r\nimport ScnenDevice from \"./ScnenDevice\";\r\n/**\r\n * 单条渲染隧道\r\n */\r\nexport default class TunnelSprite extends Laya.Sprite3D{\r\n    /**\r\n     * 隧道长度\r\n     */\r\n    public TunnelLength:number = 200;\r\n\r\n    /**\r\n     * 隧道位置类型 0为右洞  1为左洞\r\n     */\r\n    private _posType:number =0; \r\n\r\n    /**\r\n     * 车道数\r\n     */\r\n    public RoadCount:number = 3;\r\n\r\n    /**\r\n     * 隧道节点列表\r\n     */\r\n    private _nodeList:Array<RoadNode>= new Array();\r\n\r\n    /**\r\n     * 是否为激活状态\r\n     */\r\n    private _bActive:boolean;\r\n\r\n\r\n    /**\r\n     * 隧道的起始桩号，所有设备位置都应该根据这个值做偏移\r\n     */\r\n    private _startMark:number = 0;\r\n\r\n\r\n    /**\r\n     * 方向显示\r\n     */\r\n    private _disText:string = \"方向显示\";\r\n    constructor(){\r\n        super();\r\n    }\r\n\r\n    get posType(){\r\n        return this._posType;\r\n    }\r\n\r\n    set startMark(num:number){\r\n        this._startMark = num;\r\n    }\r\n\r\n    get startMark(){\r\n        return this._startMark;\r\n    }\r\n\r\n\r\n    /**\r\n     * 根据车道获取车道中心位置\r\n     * @param index \r\n     */\r\n    getRoadPosX(index:number){\r\n        let x = 0;\r\n        switch(index){\r\n            case 1:\r\n                x = -3.7;\r\n                if(GameGlobal.tunnelMgr.laneNums == 2){\r\n                    x = -2.7;\r\n                }\r\n                break;\r\n            case 2:\r\n                if(GameGlobal.tunnelMgr.laneNums == 2){\r\n                    x = 2.7;\r\n                }\r\n                break;\r\n            case 3:\r\n                x = 3.8;\r\n                break;\r\n        }\r\n        if(this.posType == 1){\r\n            x = -x;\r\n        }\r\n        return x;\r\n    }\r\n\r\n    /**\r\n     * 初始化隧道\r\n     * @param len \r\n     * @param posType \r\n     * @param addData 横洞空洞数据\r\n     */\r\n    init(len:number, posType:number, addData:any){\r\n        this.TunnelLength = len;\r\n        this._posType = posType;\r\n\r\n        this.name = \"TunnelSprite\" + this._posType;\r\n\r\n        // let Q1 = new ScnenDevice(EnumType.DEVICE_TYPE_QB_BOARD);\r\n        // Q1.changeShowData(\"道路千万条,安全第一条,行车不规范,亲人两行泪\");\r\n\t\t// this.addChild(Q1);\r\n\r\n        // let Q2 = new ScnenDevice(EnumType.DEVICE_TYPE_QB_BOARD_F);\r\n        // Q2.changeShowData(\"众志成城\\n抗击疫情\");\r\n\t\t// this.addChild(Q2);\r\n\r\n        // 风机\r\n\t\t// let fengji = new ScnenDevice(EnumType.DEVICE_TYPE_DRAUGHT);\r\n\t\t// this.addChild(fengji);\r\n\r\n\t\t// 距离显示\r\n        let num =  Math.floor(this.TunnelLength / 100) + 1;\r\n\t\tfor(let i =0; i < num; ++i){\r\n\t\t\tlet dis = this.addChild(new ScnenDevice(EnumType.DEVICE_TYPE_TEXT_DIS))  as Laya.Sprite3D;\r\n\t\t\tdis.transform.localPosition.z = -100 * i;\r\n\t\t}\r\n\r\n\r\n        // // 测试大灯\r\n\t\t// for(let i =0; i < 10; ++i){\r\n\t\t// \tlet li = this.addChild(new ScnenDevice(EnumType.DEVICE_TYPE_LIGHT01)) as Laya.Sprite3D;\r\n\t\t// \tli.transform.localPosition.z = -18 - 20 * i;\r\n\t\t// }\r\n\r\n        // // 测试警报器\r\n\t\t// for(let i =0; i < 5; ++i){\r\n\t\t// \tlet li = this.addChild(new ScnenDevice(EnumType.DEVICE_TYPE_ALERTOR)) as Laya.Sprite3D;\r\n\t\t// \tli.transform.localPosition.z = -4 - 50 * i;\r\n\t\t// }\r\n\r\n        // // 测试电话\r\n\t\t// for(let i =0; i < 5; ++i){\r\n\t\t// \tlet li = this.addChild(new ScnenDevice(EnumType.DEVICE_TYPE_PHONE)) as Laya.Sprite3D;\r\n\t\t// \tli.transform.localPosition.z = -10 - 60 * i;\r\n\t\t// }\r\n\r\n        // // 测试灯组\r\n\t\t// for(let i =0; i < 5; ++i){\r\n\t\t// \tlet li = this.addChild(new ScnenDevice(EnumType.DEVICE_TYPE_LIGHT_GRUOP)) as ScnenDevice;\r\n        //     li.changeShowData(i%2==1);\r\n\t\t// \tli.transform.localPosition.z = -20 - 30 * i;\r\n\t\t// }\r\n        \r\n        // 根据总长度和横洞空洞数据，计算出所有节点\r\n        let roadDataList = [];\r\n        for(let i = 0; i < addData.length; ++i){\r\n\r\n            let hd = {\r\n                data:addData[i],\r\n                pos:addData[i].pileNumber - this.startMark,\r\n            }\r\n            if(hd.data.leftRightFlag == posType + 1 || hd.data.leftRightFlag == 3){\r\n                roadDataList.push(hd);\r\n            }\r\n        }\r\n        roadDataList.sort(function(a, b){\r\n            return a.pos - b.pos;\r\n        })\r\n\r\n        \r\n        let kouzi = new RoadNode(1);\r\n        this.addChild(kouzi);\r\n        this._nodeList.push(kouzi);\r\n\r\n        let lastRoad = kouzi;\r\n        // let road1 = new RoadNode(0, kouzi);\r\n        // road1.showLength = this.TunnelLength;\r\n        // this.addChild(road1);\r\n\r\n        // // 临时添加一个断开的点\r\n        // let road2 = new RoadNode(4, road1);\r\n        // road2.showLength = 0;\r\n        // this.addChild(road2);\r\n\r\n        // let road3 = new RoadNode(0, road2);\r\n        // road3.showLength = this.TunnelLength - road1.showLength - road2.showLength;\r\n        // this.addChild(road3);\r\n        let curlen = 0;\r\n        for(let i = 0; i < roadDataList.length; ++i){\r\n            if(curlen < roadDataList[i].pos){ // 缺一段插入一段\r\n                let road1 = new RoadNode(0, lastRoad);\r\n                road1.showLength = roadDataList[i].pos - curlen;\r\n                this.addChild(road1);\r\n                this._nodeList.push(road1);\r\n                lastRoad = road1;\r\n                curlen = roadDataList[i].pos;\r\n            }\r\n            // 插入空洞横洞\r\n            let ntype = 0;\r\n            let showlen = 5;\r\n            let hengdong = 0;\r\n            switch(roadDataList[i].data.emptyType){\r\n                case 0:// 空洞\r\n                    ntype = 3;\r\n                    showlen = roadDataList[i].data.length;\r\n                break;\r\n                case 1: // 人行横洞\r\n                    ntype = this.posType == 0 ? 4:5;\r\n                    hengdong = EnumType.DEVICE_TYPE_HENGDONG1;\r\n                    break;\r\n                case 2: // 车行横洞\r\n                    ntype = this.posType == 0 ? 6:7;\r\n                    hengdong = EnumType.DEVICE_TYPE_HENGDONG2;\r\n                    break;\r\n            }\r\n\r\n            // 添加横洞\r\n            if(this.posType == 0 && hengdong != 0){\r\n                let hd = this.addChild(new ScnenDevice(hengdong))  as ScnenDevice;\r\n                hd.changeData(roadDataList[i].data);\r\n                hd.transform.localPosition.z = lastRoad.getNextNodePos() - showlen / 2;\r\n            }\r\n\r\n            // 添加带门的节点\r\n            let road2 = new RoadNode(ntype, lastRoad);\r\n            road2.showLength = showlen;\r\n            road2.addData = roadDataList[i].data;\r\n            this.addChild(road2);\r\n            this._nodeList.push(road2);\r\n            lastRoad = road2;\r\n            curlen += road2.showLength;\r\n        }\r\n\r\n        if(curlen < this.TunnelLength){ // 剩下的用隧道缩放补上\r\n            let road3 = new RoadNode(0, lastRoad);\r\n            road3.showLength = this.TunnelLength - curlen;\r\n            this.addChild(road3);\r\n            this._nodeList.push(road3);\r\n            lastRoad = road3;\r\n        }\r\n\r\n        // 尾部\r\n        let weiba = new RoadNode(2, lastRoad);\r\n        this.addChild(weiba);\r\n        this._nodeList.push(weiba);\r\n\r\n        this.transform.localPosition.x = posType * -28.6;\r\n        this.transform.localPosition = this.transform.localPosition;\r\n    }\r\n\r\n    /**\r\n     * 根据桩号查找对应的横洞节点\r\n     * @param num \r\n     */\r\n    findHengDongNode(num:number){\r\n        for(let i = 0; i < this._nodeList.length; ++i){\r\n            let node = this._nodeList[i];\r\n            if(node.addData && node.addData.pileNumber == num){\r\n                return node;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 添加设备到隧道\r\n     * @param data \r\n     */\r\n    addDevice(data:any):ScnenDevice{\r\n        let pos = data.pileNumber - this.startMark;\r\n        let deviceType = 0;\r\n        switch(data.deviceTypeCode){\r\n            case \"signallamp\": // 信号灯\r\n                deviceType = EnumType.DEVICE_TYPE_SIGNAL_LAMP;\r\n                break;\r\n            case \"laneIndicator\": // 车道指示器\r\n                deviceType = EnumType.DEVICE_TYPE_LAMP_INDICATOR;\r\n                break;\r\n            case \"urgentphone\": // 紧急电话\r\n                deviceType = EnumType.DEVICE_TYPE_PHONE;\r\n                break;\r\n            case \"controller\": // 控制器\r\n                break;\r\n            case \"broadcast\": // 广播\r\n                deviceType = EnumType.DEVICE_TYPE_BROADCAST;\r\n                break;\r\n            case \"conflagration\": // 火灾消防\r\n                deviceType = EnumType.DEVICE_TYPE_ALERTOR;\r\n            break;\r\n                case \"guidelight\": // 诱导灯\r\n                break;\r\n            case \"lighting\": // 照明灯\r\n                deviceType = EnumType.DEVICE_TYPE_LIGHT01;\r\n                break;\r\n            case \"lightingloop\": // 灯回路 联排\r\n                deviceType = EnumType.DEVICE_TYPE_LIGHT_GRUOP2;\r\n                break;\r\n            case \"waterlevel\": // 水位检测\r\n                break;\r\n            case \"electronicfence\": // 电子围栏\r\n                break;\r\n            case \"environment\": // 机房环境\r\n                break;\r\n            case \"tunneldoor\": // 横洞卷闸门\r\n                deviceType = EnumType.DEVICE_TYPE_DOOR;\r\n                break;\r\n            case \"draughtfan\": // 风机\r\n                deviceType = EnumType.DEVICE_TYPE_DRAUGHT;\r\n                break;\r\n            case \"camera\": // 视频监控\r\n            case \"eventcamera\": // 视频监控\r\n                deviceType = EnumType.DEVICE_TYPE_CAM;\r\n                break;\r\n            case \"vi\":      // 传感器\r\n            case \"winddirection\":\r\n            case \"co\":\r\n            case \"windspeed\":\r\n            case \"temperature\":\r\n            case \"luminometer\":\r\n            case \"ammeter\":\r\n                deviceType = EnumType.DEVICE_TYPE_SENSOR;\r\n                break;\r\n            case \"intelligenceboard\": // 情报板\r\n                let subdata = JSON.parse(data.deviceConfig)\r\n                switch(subdata.deviceSubtypeCode){\r\n                    case \"M\":\r\n                        deviceType = EnumType.DEVICE_TYPE_QB_BOARD;\r\n                        break;\r\n                    case \"F\":\r\n                        deviceType = EnumType.DEVICE_TYPE_QB_BOARD_F;\r\n                        break;\r\n                }\r\n                break;\r\n        }\r\n        if(deviceType == 0){\r\n            return null;\r\n        }\r\n\r\n        let li = this.addChild(new ScnenDevice(deviceType)) as ScnenDevice;\r\n        li.changeData(data);\r\n        \r\n        li.transform.localPosition.z = -pos;\r\n\r\n        return li\r\n    }\r\n\r\n    /**\r\n     * 设置方向显示\r\n     * @param text \r\n     */\r\n    setDirText(text:string){\r\n        this._disText = text + \"->->\"\r\n        // 方向显示 入口\r\n        let textdir = this.addChild(new ScnenDevice(EnumType.DEVICE_TYPE_TEXT_DIS))  as ScnenDevice;\r\n        textdir.changeShowData(this._disText);\r\n        if(this._posType == 0){\r\n            textdir.transform.localPosition.setValue(14, -1, 16);\r\n        }else{\r\n            textdir.transform.localPosition.setValue(-14, -1, 16);\r\n        }\r\n        textdir.transform.localPosition = textdir.transform.localPosition;\r\n\r\n        // 方向显示 出口\r\n        let textdir1 = this.addChild(new ScnenDevice(EnumType.DEVICE_TYPE_TEXT_DIS))  as ScnenDevice;\r\n        textdir1.changeShowData(this._disText);\r\n        if(this._posType == 0){\r\n            textdir1.transform.localPosition.setValue(14, -1, 16 - this.TunnelLength - 40);\r\n        }else{\r\n            textdir1.transform.localPosition.setValue(-14, -1, 16 - this.TunnelLength -40);\r\n        }\r\n        textdir1.transform.localPosition = textdir1.transform.localPosition;\r\n\r\n\r\n        // 路中方向显示\r\n        let num =  Math.floor(this.TunnelLength / 250) + 1;\r\n        for(let i =1; i < num; ++i){\r\n            let dis = this.addChild(new ScnenDevice(EnumType.DEVICE_TYPE_TEXT_DIS))  as ScnenDevice;\r\n            dis.changeShowData(this._disText);\r\n            dis.changeData(true);\r\n            dis.transform.localPosition.z = -10 - 250 * i;\r\n            dis.transform.localPosition = dis.transform.localPosition;\r\n        }\r\n    }\r\n\r\n    getStartView(){\r\n        let obj = this._nodeList[0].getChildAt(0);\r\n        return obj && obj.getChildByName(\"view\");\r\n    }\r\n\r\n    getEndView(){\r\n        let obj = this._nodeList[this._nodeList.length - 1].getChildAt(0);\r\n        return obj && obj.getChildByName(\"view\");\r\n    }\r\n}","import GameGlobal from \"../Global\";\r\nimport GameUI from \"../script/GameUI\";\r\nimport ScnenDevice from \"./ScnenDevice\";\r\nimport TunnelSprite from \"./TunnelSprite\";\r\n\r\n/**\r\n * 隧道管理\r\n */\r\nexport default class TunnelMgr {\r\n    /**\r\n     * 单隧道还是双隧道\r\n     */\r\n    public TunnelCount:number = 2;\r\n\r\n    /**\r\n     * 几车道\r\n     */\r\n    public laneNums:number = 2;\r\n    /**\r\n     * 设备列表\r\n     */\r\n    private _deviceList:Map<string, ScnenDevice> = new Map();\r\n\r\n    /**\r\n     * 隧道初始化数据\r\n     */\r\n    public InitData:any;\r\n\r\n    /**\r\n     * 左洞\r\n     */\r\n     public _leftTunnelSprite:TunnelSprite;\r\n\r\n      /**\r\n     * 右洞\r\n     */\r\n    public _rightTunnelSprite:TunnelSprite;\r\n\r\n    /**\r\n     * 所有视点\r\n     */\r\n    private _viewList:Array<Laya.Sprite3D>;\r\n\r\n    /**\r\n     * 最长的隧道长度\r\n     */\r\n    private _maxLength:number = 0;\r\n\r\n    /**\r\n     * 当前选中设备\r\n     */\r\n    private _curSelectDevice:ScnenDevice;\r\n    constructor(){\r\n\r\n    }\r\n\r\n    /**\r\n     * 初始化隧道\r\n     */\r\n    init(scn){\r\n      // 方向测试\r\n      // let sp3d01 = scn.getChildByName(\"textdir01\") as Laya.MeshSprite3D;\r\n      // let tex = UtilTool.createText3D(\"长沙方向→\", 60, \"rgb(240,240,240)\");\r\n      // let mat = sp3d01.meshRenderer.sharedMaterial as Laya.EffectMaterial\r\n      // mat.texture = tex;\r\n\r\n      // for(let i = 0; i < this.TunnelCount; ++i){\r\n      //   let ts = new TunnelSprite();\r\n      //   ts.init(200 + i * 100, i);\r\n      //   ts.name = \"TunnelSprite0\";\r\n      //   scn.addChild(ts);\r\n      // }\r\n    }\r\n\r\n    getMaxLenth(){\r\n      return this._maxLength;\r\n    }\r\n\r\n    /**\r\n     * 初始化隧道信息\r\n     * @param data \r\n     */\r\n    loadTunnel(data:any, addData:any){\r\n      this.InitData = data;\r\n      this.laneNums = data.laneNums; \r\n      this._maxLength = Math.max(data.leftHoleLength, data.rightHoleLength);\r\n\r\n      // 左洞\r\n      let ts0 = new TunnelSprite();\r\n      GameGlobal.GameScene.addChild(ts0);\r\n      if(data.singleDoubleType == 3 || data.singleDoubleType == 2){\r\n        \r\n      }else{\r\n\r\n      }\r\n      \r\n      ts0.RoadCount = data.laneNums;\r\n      ts0.startMark = data.startStakeMark;\r\n      ts0.init(data.leftHoleLength, 1, addData);\r\n      ts0.setDirText(data.leftHoleDirection);\r\n      ts0.transform.position.z = data.startStakeMarkRight - data.startStakeMark;\r\n      ts0.transform.position = ts0.transform.position;\r\n      this._leftTunnelSprite = ts0;\r\n\r\n      // 右洞\r\n      let ts1 = new TunnelSprite();\r\n      GameGlobal.GameScene.addChild(ts1);\r\n      if(data.singleDoubleType == 3 || data.singleDoubleType == 1){\r\n      \r\n      }else{\r\n\r\n      }\r\n      ts1.RoadCount = data.laneNums;\r\n      ts1.startMark = data.startStakeMarkRight;\r\n      ts1.init(data.rightHoleLength, 0, addData);\r\n      ts1.setDirText(data.rightHoleDirection);\r\n      this._rightTunnelSprite = ts1;\r\n      \r\n    }\r\n\r\n\r\n    /**\r\n     * 根据唯一id查找设备\r\n     * @param id \r\n     * @returns \r\n     */\r\n    findDevice(id:string){\r\n      return this._deviceList[id];\r\n    }\r\n\r\n    /**\r\n     * 添加隧道设备\r\n     * @param data \r\n     */\r\n    addDevice(data:any){\r\n      let device:ScnenDevice = this.findDevice(data.id);\r\n      if(device){\r\n        device.changeData(data);\r\n        return;\r\n      }\r\n      if(data.leftRightFlag == 1){\r\n        device = this._rightTunnelSprite.addDevice(data);\r\n      }else{\r\n        device = this._leftTunnelSprite.addDevice(data);\r\n      }\r\n      this._deviceList[data.id] = device;\r\n    }\r\n    /**\r\n     * 批量添加设备\r\n     * @param ary \r\n     */\r\n    addDevices(ary:any){\r\n      for(let i = 0; i < ary.length; ++i){\r\n        this.addDevice(ary[i]);\r\n      }\r\n    }\r\n\r\n\r\n    /**\r\n     * 获取巡游视点\r\n     * @param i \r\n     * @returns \r\n     */\r\n    getCurView(index:number){\r\n      if(!this._viewList){\r\n        let obj1 = this._rightTunnelSprite.getStartView() as Laya.Sprite3D;\r\n        let obj2 = this._leftTunnelSprite.getEndView() as Laya.Sprite3D;\r\n        if(!obj1 || !obj2){\r\n          console.log(\"资源还没加载结束，不能巡游\");\r\n          return;\r\n        }\r\n        this._viewList = new Array();\r\n        this._viewList.push(obj1);\r\n        this._viewList.push(this._rightTunnelSprite.getEndView() as Laya.Sprite3D);\r\n        this._viewList.push(obj2);\r\n        this._viewList.push(this._leftTunnelSprite.getStartView() as Laya.Sprite3D);\r\n      }\r\n      if(this._viewList.length <= index){\r\n        return null;\r\n      }\r\n      return this._viewList[index];\r\n    }\r\n\r\n    /**\r\n     * 设置当前选中设备\r\n     * @param obj \r\n     */\r\n    setSelectDevice(obj:ScnenDevice){\r\n      if(this._curSelectDevice == obj && obj == null){\r\n        return;\r\n      }\r\n      this._curSelectDevice = obj;\r\n      if(!obj){\r\n        GameUI.instance.textSelect.text = \"当前选中：无\";\r\n        return;\r\n      }\r\n      let str = obj.name;\r\n      if(obj.DeviceData){\r\n        str = JSON.stringify(obj.DeviceData);\r\n  \r\n        let msg = {\r\n          msgType:\"clickDevice\",\r\n          msgData:obj.DeviceData,\r\n        }\r\n        Laya.Browser.window.parent.postMessage(msg);\r\n      }\r\n  \r\n      GameUI.instance.textSelect.text = \"当前选中：\" + str;\r\n    }\r\n\r\n    getSelectDevice(){\r\n      return this._curSelectDevice;\r\n    }\r\n\r\n}","import TunnelMgr from \"./logic/TunnelMgr\";\r\nimport ModelViewer from \"./script/ModelViewer\";\r\n\r\nexport default class GameGlobal {\r\n\r\n    /** 游戏的主场景 */\r\n    public static GameScene:Laya.Scene3D;\r\n\r\n    /** 游戏的主摄像机 */\r\n    public static GameCamera:Laya.Camera; \r\n\r\n     /** 游戏的主摄像机控制脚本 */\r\n    public static CameraScript:ModelViewer;\r\n\r\n\r\n    /**\r\n     * 隧道管理\r\n     */\r\n    public static tunnelMgr:TunnelMgr = new TunnelMgr();\r\n}","/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\nimport View=Laya.View;\r\nimport Dialog=Laya.Dialog;\r\nimport Scene=Laya.Scene;\nvar REG: Function = Laya.ClassUtils.regClass;\nexport module ui.test {\r\n    export class TestSceneUI extends Scene {\r\n\t\tpublic btnReset:Laya.Button;\n\t\tpublic btnAutoView:Laya.Button;\n\t\tpublic textSelect:Laya.Text;\n\t\tpublic siderMainLenth:Laya.HSlider;\n        constructor(){ super()}\r\n        createChildren():void {\r\n            super.createChildren();\r\n            this.loadScene(\"test/TestScene\");\r\n        }\r\n    }\r\n    REG(\"ui.test.TestSceneUI\",TestSceneUI);\r\n}\r","import GameGlobal from \"../Global\";\r\nimport RoadNode from \"../logic/RoadNode\";\r\nimport TunnelSprite from \"../logic/TunnelSprite\";\r\nimport { ui } from \"./../ui/layaMaxUI\";\r\n/**\r\n * 本示例采用非脚本的方式实现，而使用继承页面基类，实现页面逻辑。在IDE里面设置场景的Runtime属性即可和场景进行关联\r\n * 相比脚本方式，继承式页面类，可以直接使用页面定义的属性（通过IDE内var属性定义），比如this.tipLbll，this.scoreLbl，具有代码提示效果\r\n * 建议：如果是页面级的逻辑，需要频繁访问页面内多个元素，使用继承式写法，如果是独立小模块，功能单一，建议用脚本方式实现，比如子弹脚本。\r\n */\r\nexport default class GameUI extends ui.test.TestSceneUI {\r\n    /**设置单例的引用方式，方便其他类引用 */\r\n    static instance: GameUI;\r\n    constructor() {\r\n        super();\r\n        GameUI.instance = this;\r\n\t\tthis.btnReset.on(Laya.Event.CLICK, this, this.onClickReset);\r\n        this.btnAutoView.on(Laya.Event.CLICK, this, this.onClickAutoView)\r\n\r\n        this.siderMainLenth.changeHandler = new Laya.Handler(this, this.onChangeLenth);\r\n        this.siderMainLenth.max = GameGlobal.tunnelMgr.getMaxLenth();\r\n        this.siderMainLenth.visible = false;\r\n    }\r\n\r\n    /**\r\n     * 点击还原\r\n     */\r\n    private onClickReset(){\r\n        GameGlobal.CameraScript.reset();\r\n    }\r\n\r\n    /**\r\n     * 自动巡游\r\n     */\r\n    private onClickAutoView(){\r\n        GameGlobal.CameraScript.autoView(!GameGlobal.CameraScript.autoStat);\r\n    }\r\n\r\n    public updateViewShow(){\r\n        if(!GameGlobal.CameraScript.autoStat){\r\n            if(GameGlobal.CameraScript.stopBackView){\r\n                this.btnAutoView.label = \"继续巡游\";\r\n            }else{\r\n                this.btnAutoView.label = \"自动巡游\";\r\n            }\r\n            \r\n        }else{\r\n            this.btnAutoView.label = \"停止巡游\";\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 隧道长度修改\r\n     */\r\n    private onChangeLenth(value:number){\r\n        //let suidao01 = GameGlobal.GameScene.getChildByName(\"TunnelSprite1\") as TunnelSprite;\r\n        //suidao01.transform.position.y = value / 10;\r\n        //suidao01.transform.position = suidao01.transform.position;\r\n    }\r\n\r\n    public setShowPos(num:number){\r\n        this.siderMainLenth.value = num;\r\n    }\r\n}","/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\nimport GameUI from \"./script/GameUI\"\r\n/*\r\n* 游戏初始化配置;\r\n*/\r\nexport default class GameConfig{\r\n    static width:number=1920;\r\n    static height:number=1080;\r\n    static scaleMode:string=\"fixedwidth\";\r\n    static screenMode:string=\"none\";\r\n    static alignV:string=\"middle\";\r\n    static alignH:string=\"center\";\r\n    static startScene:any=\"test/TestScene.scene\";\r\n    static sceneRoot:string=\"\";\r\n    static debug:boolean=false;\r\n    static stat:boolean=false;\r\n    static physicsDebug:boolean=false;\r\n    static exportSceneToJson:boolean=true;\r\n    constructor(){}\r\n    static init(){\r\n        var reg: Function = Laya.ClassUtils.regClass;\r\n        reg(\"script/GameUI.ts\",GameUI);\r\n    }\r\n}\r\nGameConfig.init();","import GameGlobal from \"../Global\";\r\nimport MouseMeshScript from \"./device/MouseMeshScript\";\r\nimport GameUI from \"./GameUI\";\r\n\r\nexport default class CameraScript extends Laya.Script3D{\r\n    /**\r\n     * 固定朝向\r\n     */\r\n    public static UP_V3:Laya.Vector3 = new Laya.Vector3(0, 1, 0);\r\n\r\n    protected  camera:Laya.BaseCamera;\r\n    protected  scene:Laya.Scene3D;\r\n\r\n    /**\r\n     * 摄像机初始坐标\r\n     */\r\n    private _initCamerPos:Laya.Vector3 = new Laya.Vector3();\r\n    \r\n    /**\r\n     * 摄像机初始位置\r\n     */\r\n    private _initCamerDir:Laya.Quaternion = new Laya.Quaternion();\r\n\r\n    /**\r\n     * 摄像机默认是否在移动中\r\n     */\r\n    protected _moveing:boolean = false;\r\n    /**\r\n     * 当前查看点\r\n     */\r\n    public curLookPos:Laya.Vector3 = new Laya.Vector3();\r\n\r\n    /**\r\n     * 自动巡检id\r\n     */\r\n    public autoViewIndex:number = 0;\r\n    /**\r\n     * 是否当前自动巡游\r\n     */\r\n    public autoStat:boolean = false;\r\n    /**\r\n     * 上次暂停的巡游点\r\n     */\r\n    public stopBackView:Laya.Vector3;\r\n    constructor(){\r\n        super();\r\n    }\r\n\r\n        \r\n    /**\r\n     * 摄像机还原到默认位置\r\n     */\r\n    public reset(){\r\n        GameGlobal.tunnelMgr.setSelectDevice(null);\r\n        this.curLookPos.setValue(0, 0, 0);\r\n        this.tweenMoveTo(this._initCamerPos, 500, this._initCamerDir);\r\n    }\r\n        /**\r\n     * @inheritDoc\r\n     */\r\n    public  onAwake():void {\r\n        this.camera = this.owner as Laya.Camera;\r\n    }\r\n    public onStart(){\r\n        this.camera.transform.position.cloneTo(this._initCamerPos);\r\n        this.camera.transform.rotation.cloneTo(this._initCamerDir);\r\n    }\r\n    /**\r\n     * 缓动移动到指定点和方向\r\n     * @param pos \r\n     * @param dir \r\n     * @param nTime \r\n     */\r\n    public tweenMoveTo(pos:Laya.Vector3, nTime:number, dir:Laya.Quaternion = null, lookPos:Laya.Vector3=null, endCall:Function = null){\r\n        if(!endCall){\r\n            this.stopView();\r\n        }\r\n        let curpos = this.camera.transform.position;\r\n        this._moveing = true;\r\n        \r\n        Laya.Tween.clearAll(curpos);\r\n        Laya.Tween.to(curpos, {x:pos.x,y:pos.y,z:pos.z,\r\n            update:new Laya.Handler(this, function(){\r\n                this.camera.transform.position = curpos;\r\n                if(lookPos){\r\n                    this.camera.transform.lookAt(lookPos, CameraScript.UP_V3, false);\r\n                }\r\n            })\r\n        }, nTime, null, Laya.Handler.create(this, function(){\r\n            this.moveOver();\r\n            if(endCall){\r\n                endCall();\r\n            }\r\n        } ));\r\n        if(!lookPos && dir){ // 固定查看点\r\n            let curdir = this.camera.transform.rotation; \r\n            Laya.Tween.clearAll(curdir);\r\n            Laya.Tween.to(curdir, {x:dir.x,y:dir.y,z:dir.z,w:dir.w,\r\n                update:new Laya.Handler(this, function(){\r\n                    this.camera.transform.rotation = curdir\r\n                })\r\n            }, nTime);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 移动结束\r\n     */\r\n    public moveOver(){\r\n        Laya.Tween.clearAll(this.camera.transform.position);\r\n        this._moveing = false;\r\n    }\r\n\r\n    onUpdate(){\r\n        if(GameUI.instance){\r\n            GameUI.instance.setShowPos(-this.curLookPos.z);\r\n        } \r\n    }\r\n\r\n    /**\r\n     * 停止巡游\r\n     * @returns \r\n     */\r\n    public stopView(){\r\n        if(!this.autoStat){\r\n            return;\r\n        }\r\n        this.autoStat = false;\r\n        if(!this.stopBackView){\r\n            this.stopBackView = new Laya.Vector3();\r\n        }\r\n        this.camera.transform.position.cloneTo(this.stopBackView);\r\n        this.moveOver();\r\n        GameUI.instance.updateViewShow();\r\n        let msg = {\r\n            msgType:\"autoViewEvt\",\r\n            msgData:this.autoStat,\r\n        }\r\n        Laya.Browser.window.parent.postMessage(msg);\r\n    }\r\n\r\n    /**\r\n     * 自动巡游\r\n     */\r\n    public autoView(bAuto:boolean){\r\n        if(!bAuto){\r\n            this.stopView();\r\n            return;\r\n        }\r\n        let obj = GameGlobal.tunnelMgr.getCurView(this.autoViewIndex);\r\n        if(!obj){\r\n            return false;\r\n        }\r\n        let viewPos = obj.transform.position;\r\n        if(!this.autoStat){ // 如果是开始巡游 则通知\r\n            this.autoStat = bAuto;\r\n            let msg = {\r\n                msgType:\"autoViewEvt\",\r\n                msgData:this.autoStat,\r\n            }\r\n            Laya.Browser.window.parent.postMessage(msg);\r\n            GameUI.instance.updateViewShow();\r\n        }\r\n        \r\n        if(this.stopBackView){\r\n            this.camera.transform.position = this.stopBackView;\r\n            this.stopBackView = null;\r\n        }\r\n        let dis = 3;\r\n        let h = 2;\r\n        let pos = MouseMeshScript.TEMP_CAMERA_POS\r\n\t\tpos.x = 0;\r\n\t\tpos.y = 0;\r\n\t\tpos.z = dis;\r\n\r\n\t\tpos.y += h;\r\n\t\tLaya.Vector3.add(viewPos, pos, pos);\r\n\r\n\t\tviewPos.cloneTo(this.curLookPos);\r\n        this.curLookPos.y += h;\r\n\r\n        let moveDis = Laya.Vector3.distance(pos, GameGlobal.GameCamera.transform.position);\r\n        let nTime = moveDis * 200;\r\n        if(this.autoViewIndex %2 == 0){\r\n            nTime = 400;\r\n        }\r\n\t\tthis.tweenMoveTo(pos, nTime, null, GameGlobal.CameraScript.curLookPos, function(){\r\n            GameGlobal.CameraScript.autoViewIndex ++;\r\n            if(GameGlobal.CameraScript.autoViewIndex > 3){\r\n                GameGlobal.CameraScript.autoViewIndex = 0;\r\n            }\r\n            GameGlobal.CameraScript.autoView(true);\r\n        });\r\n        \r\n    }\r\n}","import GameGlobal from \"../Global\";\r\nimport CameraScript from \"./CameraScript\";\r\nimport Transform3D = Laya.Transform3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Quaternion = Laya.Quaternion;\r\n\r\n\r\nexport default class ModelViewer extends CameraScript {\r\n    // Text m_debugTip;\r\n    public canRotation_X: boolean = true;\r\n    public canRotation_Y: boolean = true;\r\n    public canScale: boolean = true;\r\n    protected  _tempVector3:Laya.Vector3 = new Laya.Vector3();\r\n    /// <summary>\r\n    /// Around center.\r\n    /// </summary>\r\n    //public target: Transform3D;\r\n    public AroundPos: Vector3 = new Vector3();\r\n    /// <summary>\r\n    /// Settings of mouse button, pointer and scrollwheel.\r\n    /// </summary>\r\n    public mouseSettings: MouseSettings = new MouseSettings(0, 0.3, 0.3);\r\n\r\n    /// <summary>\r\n    /// Range limit of angle.\r\n    /// </summary>\r\n    public angleRange: MyRange = new MyRange(-360, 360);\r\n\r\n    /// <summary>\r\n    /// Range limit of distance.\r\n    /// </summary>\r\n    public distanceRange: MyRange = new MyRange(1, 80);\r\n\r\n    /// <summary>\r\n    /// Damper for move and rotate.\r\n    /// </summary>\r\n    ///[Range(0, 10)]\r\n    public damper: number = 5;\r\n\r\n    /// <summary>\r\n    /// Camera current angls.\r\n    /// </summary>\r\n    public CurrentAngles: Vector3 = new Vector3();\r\n    public CurrentAnglesTemp: Vector3 = new Vector3();\r\n    /// <summary>\r\n    /// Current distance from camera to target.\r\n    /// </summary>\r\n    public CurrentDistance: number;\r\n\r\n    /// <summary>\r\n    /// Camera target angls.\r\n    /// </summary>\r\n    protected targetAngles: Vector3 = new Vector3();\r\n\r\n\r\n    /// <summary>\r\n    /// Target distance from camera to target.\r\n    /// </summary>\r\n    protected targetDistance: number;\r\n\r\n    protected  moveV3:Laya.Vector3 = new Laya.Vector3;\r\n    private _keydowning:boolean = false;\r\n    protected  yawPitchRoll:Laya.Vector3 = new Laya.Vector3();\r\n    protected  rotaionSpeed:number = 0.00008;\r\n    constructor() {\r\n        super();\r\n    }\r\n    public transform: Transform3D;\r\n\r\n    onStart(): void {\r\n        super.onStart();\r\n        GameGlobal.CameraScript = this;\r\n        this.initTransform();\r\n        Laya.stage.on(Laya.Event.MOUSE_DOWN, this, this.mouseDown);\r\n        Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this.mouseMove);\r\n        Laya.stage.on(Laya.Event.MOUSE_UP, this, this.mouseUp);\r\n        Laya.stage.on(Laya.Event.MOUSE_WHEEL, this, this.mouseWheel);\r\n        Laya.stage.on(Laya.Event.RIGHT_MOUSE_DOWN, this, this.rightMouseDown);\r\n        Laya.stage.on(Laya.Event.RIGHT_MOUSE_UP, this, this.rightMouseUp);\r\n    }\r\n\r\n    initTransform(bResetLook:boolean= false){\r\n        this.transform = this.camera.transform;\r\n        this.CurrentAngles.setValue(-this.transform.rotationEuler.x, this.transform.rotationEuler.y, this.transform.rotationEuler.z);\r\n        this.targetAngles.setValue(-this.transform.rotationEuler.x, this.transform.rotationEuler.y, this.transform.rotationEuler.z);\r\n\r\n        if(!bResetLook){\r\n            if(this.curLookPos){\r\n                this.curLookPos.cloneTo(this.AroundPos);\r\n            }else{\r\n                this.AroundPos.setValue(0, 0, 0);\r\n            }\r\n        }\r\n\r\n        this.CurrentDistance = Vector3.distance(this.transform.position, this.AroundPos);\r\n        this.targetDistance = Vector3.distance(this.transform.position, this.AroundPos);\r\n        if(bResetLook || this.CurrentDistance > 40){\r\n            Vector3.scale(this.GetForward, -30, this.tempV)\r\n            Vector3.subtract(this.transform.position, this.tempV, this.tempV1)\r\n            this.tempV1.cloneTo(this.AroundPos);\r\n            this.tempV1.cloneTo(this.curLookPos);\r\n        }\r\n        this.CurrentDistance = Vector3.distance(this.transform.position, this.AroundPos);\r\n        this.targetDistance = Vector3.distance(this.transform.position, this.AroundPos);\r\n    }\r\n\r\n    moveOver(){\r\n        super.moveOver();\r\n        this.initTransform();\r\n    }\r\n    \r\n    /**\r\n     *  更新朝向\r\n     */\r\n     protected  _updateRotation():void {\r\n        if (Math.abs(this.yawPitchRoll.y) < 1.50) {\r\n            Laya.Quaternion.createFromYawPitchRoll(this.yawPitchRoll.x, this.yawPitchRoll.y, this.yawPitchRoll.z, this.tempRotationZ);\r\n            this.tempRotationZ.cloneTo(this.camera.transform.localRotation);\r\n            this.camera.transform.localRotation = this.camera.transform.localRotation;\r\n        }\r\n    }\r\n    onUpdate(): void {\r\n        super.onUpdate();\r\n        if(this._moveing){\r\n            return;\r\n        }\r\n        var elapsedTime:number = Laya.timer.delta;\r\n        if (!isNaN(this.lastMouseX) && !isNaN(this.lastMouseY)) {\r\n            let keydown = this._keydowning;\r\n            this._keydowning = false;\r\n            let rate = Laya.KeyBoardManager.hasKeyDown(16) ? 3:1;\r\n            Laya.KeyBoardManager.hasKeyDown(87) && this.moveForward(0, 1 * rate);//W\r\n            Laya.KeyBoardManager.hasKeyDown(83) && this.moveForward(0, -1 * rate);//S\r\n            Laya.KeyBoardManager.hasKeyDown(65) && this.moveForward(1 * rate, 0);//A\r\n            Laya.KeyBoardManager.hasKeyDown(68) && this.moveForward(-1 * rate, 0);//D\r\n            Laya.KeyBoardManager.hasKeyDown(81) && this.moveVertical(0.01 * elapsedTime * rate);//Q\r\n            Laya.KeyBoardManager.hasKeyDown(69) && this.moveVertical(-0.01 * elapsedTime * rate);//E\r\n            if(keydown && !this._keydowning){\r\n                this.initTransform(true);\r\n            }\r\n        }\r\n        if(this._keydowning){\r\n            //let pos = this.camera.transform.position;\r\n            //console.log(\"cam pos:\", pos.x, pos.y, pos.z)\r\n            GameGlobal.tunnelMgr.setSelectDevice(null);\r\n            return;\r\n        }\r\n        let offsetX = this.GetAxisX;\r\n        let offsetY = this.GetAxisY;\r\n\r\n        if(this.mouseRunning && !GameGlobal.tunnelMgr.getSelectDevice()){ // 左键控制旋转方向\r\n            var yprElem:Laya.Vector3 = this.yawPitchRoll;\r\n            yprElem.x -= offsetX * this.rotaionSpeed * elapsedTime;\r\n            yprElem.y -= offsetY * this.rotaionSpeed * elapsedTime;\r\n            this._updateRotation();\r\n            this.initTransform(true);\r\n            \r\n            this.lastMouseX = Laya.stage.mouseX;\r\n            this.lastMouseY = Laya.stage.mouseY;\r\n            return;\r\n        }\r\n\r\n        // 最后是选中模型的情况下视角转动\r\n        this.AroundByMouseInput();\r\n        if (!this.canRotation_X) this.targetAngles.y = 0;\r\n        if (!this.canRotation_Y) this.targetAngles.x = 0;\r\n\r\n        if(this.bRightMouseDown){ // 右键控制平移移动\r\n            let r = this.transform.rotationEuler.y / 180 * Math.PI\r\n            let sr = Math.sin(r);\r\n            let cr = Math.cos(r);\r\n            let dis = this.deltaTime * 2;\r\n            this.moveV3.z = -(offsetY * cr -  offsetX* sr) * dis;\r\n            this.moveV3.x = -(offsetY * sr +  offsetX* cr) * dis;\r\n            this.transform.translate(this.moveV3, false);\r\n            Laya.Vector3.add(this.AroundPos, this.moveV3, this.AroundPos);\r\n            Laya.Vector3.add(this.curLookPos, this.moveV3, this.curLookPos);\r\n            GameGlobal.tunnelMgr.setSelectDevice(null);\r\n        }else{\r\n            //Lerp.\r\n            this.CurrentAngles = this.LerpVector3(this.CurrentAngles, this.targetAngles, this.deltaTime * this.damper);\r\n            this.CurrentDistance = this.LerpNum(this.CurrentDistance, this.targetDistance, this.deltaTime * this.damper);\r\n            //Update transform position and rotation.\r\n            // Quaternion.createFromYawPitchRoll(this.CurrentAngles.y,this.CurrentAngles.x,this.CurrentAngles.z,this.tempRotationZ)\r\n            // this.transform.rotation = this.tempRotationZ;\r\n            this.CurrentAnglesTemp.x = -this.CurrentAngles.x;\r\n            this.CurrentAnglesTemp.y = this.CurrentAngles.y;\r\n            this.CurrentAnglesTemp.z = this.CurrentAngles.z;\r\n            this.transform.rotationEuler = this.CurrentAnglesTemp;\r\n            Vector3.scale(this.GetForward, this.CurrentDistance, this.tempV)\r\n            Vector3.subtract(this.AroundPos, this.tempV, this.tempV1)\r\n            this.transform.position = this.tempV1;\r\n        }\r\n\r\n        this.lastMouseX = Laya.stage.mouseX;\r\n        this.lastMouseY = Laya.stage.mouseY;\r\n\r\n    }\r\n    /**\r\n     * 向前移动。\r\n     * @param distance 移动距离。\r\n     */\r\n     public  moveForward(offsetX:number, offsetY:number):void {\r\n        let r = this.transform.rotationEuler.y / 180 * Math.PI\r\n        let sr = Math.sin(r);\r\n        let cr = Math.cos(r);\r\n        let dis = this.deltaTime * 20;\r\n        this.moveV3.z = -(offsetY * cr -  offsetX* sr) * dis;\r\n        this.moveV3.x = -(offsetY * sr +  offsetX* cr) * dis;\r\n        this.transform.translate(this.moveV3, false);\r\n        Laya.Vector3.add(this.AroundPos, this.moveV3, this.AroundPos);\r\n        Laya.Vector3.add(this.curLookPos, this.moveV3, this.curLookPos);\r\n\r\n        // this._tempVector3.x = this._tempVector3.y = 0;\r\n        // this._tempVector3.z = distance;\r\n        // this.camera.transform.translate(this._tempVector3, false);\r\n        this._keydowning = true;\r\n    }\r\n\r\n    /**\r\n     * 向上移动。\r\n     * @param distance 移动距离。\r\n     */\r\n    public moveVertical(distance:number):void {\r\n        this._tempVector3.x = this._tempVector3.z = 0;\r\n        this._tempVector3.y = distance;\r\n        this.camera.transform.translate(this._tempVector3, false);\r\n        this._keydowning = true;\r\n    }\r\n    public get GetAxisX(): number {\r\n        return Laya.stage.mouseX - this.lastMouseX;\r\n    }\r\n    public get GetAxisY(): number {\r\n        return Laya.stage.mouseY - this.lastMouseY;\r\n    }\r\n    public get deltaTime(): number {\r\n        return Laya.timer.delta / 1000;\r\n    }\r\n\r\n    public FORWORD: Vector3 = new Vector3();\r\n    public get GetForward(): Vector3 {\r\n        this.transform.getForward(this.FORWORD);\r\n        return this.FORWORD\r\n    }\r\n\r\n    public deltaWheel: number = 0;\r\n    protected lastMouseX: number = 0;\r\n    protected lastMouseY: number = 0;\r\n    protected mouseRunning: boolean = false;\r\n    protected  bRightMouseDown:Boolean;\r\n    protected mouseDown(e: Laya.Event): void {\r\n        if(e.target.parent != Laya.Scene.root){\r\n            return;\r\n        }\r\n        this.mouseRunning = true;\r\n        this.camera.transform.localRotation.getYawPitchRoll(this.yawPitchRoll);\r\n    }\r\n    myevent: Laya.Event;\r\n    protected mouseMove(e: Laya.Event): void {\r\n        this.myevent = e;\r\n        Laya.Browser.window.focus();\r\n    }\r\n\r\n    protected mouseWheel(e: Laya.Event): void {\r\n        this.deltaWheel = e.delta;\r\n    }\r\n    protected mouseUp(e: Laya.Event): void {\r\n        this.mouseRunning = false;\r\n        Laya.Browser.window.focus();\r\n    }\r\n    protected rightMouseDown(e:Laya.Event):void{\r\n        this.bRightMouseDown = true;\r\n    }\r\n\r\n    protected rightMouseUp(e:Laya.Event){\r\n        this.lastMouseX = Laya.stage.mouseX;\r\n        this.lastMouseY = Laya.stage.mouseY;\r\n        this.bRightMouseDown = false;\r\n        this.initTransform();\r\n    }\r\n\r\n    protected Clamp(num, min, max): number {\r\n        if (num < min) {\r\n            return min;\r\n        } else if (num > max) {\r\n            return max;\r\n        } else {\r\n            return num;\r\n        }\r\n    }\r\n\r\n    protected LerpVector3(min: Vector3, max: Vector3, t: number): Vector3 {\r\n        var vec: Vector3 = new Vector3();\r\n        vec.x = min.x + t * (max.x - min.x);\r\n        vec.y = min.y + t * (max.y - min.y);\r\n        vec.z = min.z + t * (max.z - min.z);\r\n        return vec;\r\n    }\r\n    protected LerpNum(min: number, max: number, t: number): number {\r\n        return min + t * (max - min);\r\n    }\r\n\r\n    tempRotationZ: Quaternion = new Quaternion();\r\n    tempV: Vector3 = new Vector3();\r\n    tempV1: Vector3 = new Vector3();\r\n\r\n\r\n    /// <summary>\r\n    /// Camera around target by mouse input.\r\n    /// </summary>\r\n    protected AroundByMouseInput(): void {\r\n        if (this.mouseRunning) {\r\n            //Mouse pointer.\r\n            this.targetAngles.y -= (this.GetAxisX * this.mouseSettings.pointerSensitivity);\r\n            this.targetAngles.x += (this.GetAxisY * this.mouseSettings.pointerSensitivity);\r\n            //Range.\r\n            this.targetAngles.x = this.Clamp(this.targetAngles.x, this.angleRange.min, this.angleRange.max);\r\n        }\r\n        //Mouse scrollwheel.\r\n        if (this.canScale) {\r\n            this.targetDistance -= this.deltaWheel * this.mouseSettings.wheelSensitivity;\r\n            this.deltaWheel = 0;\r\n            this.targetDistance = this.Clamp(this.targetDistance, this.distanceRange.min, this.distanceRange.max);\r\n        }\r\n    }\r\n}\r\n\r\nclass MouseSettings {\r\n    /// <summary>\r\n    /// ID of mouse button.\r\n    /// </summary>\r\n    public mouseButtonID: number;\r\n\r\n    /// <summary>\r\n    /// Sensitivity of mouse pointer.\r\n    /// </summary>\r\n    public pointerSensitivity: number;\r\n\r\n    /// <summary>\r\n    /// Sensitivity of mouse ScrollWheel.\r\n    /// </summary>\r\n    public wheelSensitivity: number;\r\n\r\n    /// <summary>\r\n    /// Constructor.\r\n    /// </summary>\r\n    /// <param name=\"mouseButtonID\">ID of mouse button.</param>\r\n    /// <param name=\"pointerSensitivity\">Sensitivity of mouse pointer.</param>\r\n    /// <param name=\"wheelSensitivity\">Sensitivity of mouse ScrollWheel.</param>\r\n    constructor(mouseButtonID: number, pointerSensitivity: number, wheelSensitivity: number) {\r\n        this.mouseButtonID = mouseButtonID;\r\n        this.pointerSensitivity = pointerSensitivity;\r\n        this.wheelSensitivity = wheelSensitivity;\r\n    }\r\n}\r\n\r\n/// <summary>\r\n/// Range form min to max.\r\n/// </summary>\r\nclass MyRange {\r\n    /// <summary>\r\n    /// Min value of range.\r\n    /// </summary>\r\n    public min: number;\r\n\r\n    /// <summary>\r\n    /// Max value of range.\r\n    /// </summary>\r\n    public max: number;\r\n\r\n    /// <summary>\r\n    /// Constructor.\r\n    /// </summary>\r\n    /// <param name=\"min\">Min value of range.</param>\r\n    /// <param name=\"max\">Max value of range.</param>\r\n    constructor(min: number, max: number) {\r\n        this.min = min;\r\n        this.max = max;\r\n    }\r\n}\r\n\r\n\r\n/// <summary>\r\n/// Rectangle area on plane.\r\n/// </summary>\r\nclass PlaneArea {\r\n    /// <summary>\r\n    /// Center of area.\r\n    /// </summary>\r\n    public center: Transform3D;\r\n\r\n    /// <summary>\r\n    /// Width of area.\r\n    /// </summary>\r\n    public width: number;\r\n\r\n    /// <summary>\r\n    /// Length of area.\r\n    /// </summary>\r\n    public length: number;\r\n\r\n    /// <summary>\r\n    /// Constructor.\r\n    /// </summary>\r\n    /// <param name=\"center\">Center of area.</param>\r\n    /// <param name=\"width\">Width of area.</param>\r\n    /// <param name=\"length\">Length of area.</param>\r\n    constructor(center: Transform3D, width: number, length: number) {\r\n        this.center = center;\r\n        this.width = width;\r\n        this.length = length;\r\n    }\r\n}","import { BlurEffect } from \"./shader/BlurEffect\";\r\nimport GameConfig from \"./GameConfig\";\r\nimport GameGlobal from \"./Global\";\r\nimport ModelViewer from \"./script/ModelViewer\";\r\nimport GameUI from \"./script/GameUI\";\r\nclass Main {\r\n\tconstructor() {\r\n\t\t//根据IDE设置初始化引擎\t\r\n\t\tlet config = new Config3D();\r\n\t\tconfig.isAntialias = false;\r\n\t\t// config.octreeCulling = true;\r\n\t\t// config.debugFrustumCulling = true;\r\n\t\tif (window[\"Laya3D\"]) Laya3D.init(GameConfig.width, GameConfig.height, config);\r\n\t\telse Laya.init(GameConfig.width, GameConfig.height, Laya[\"WebGL\"]);\r\n\t\tLaya[\"Physics\"] && Laya[\"Physics\"].enable();\r\n\t\tLaya[\"DebugPanel\"] && Laya[\"DebugPanel\"].enable();\r\n\t\tLaya.stage.scaleMode = GameConfig.scaleMode;\r\n\t\tLaya.stage.screenMode = GameConfig.screenMode;\r\n\t\tLaya.stage.alignV = GameConfig.alignV;\r\n\t\tLaya.stage.alignH = GameConfig.alignH;\r\n\t\t//兼容微信不支持加载scene后缀场景\r\n\t\tLaya.URL.exportSceneToJson = GameConfig.exportSceneToJson;\r\n\r\n\t\t//打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）\r\n\t\tif (GameConfig.debug || Laya.Utils.getQueryString(\"debug\") == \"true\") Laya.enableDebugPanel();\r\n\t\tif (GameConfig.physicsDebug && Laya[\"PhysicsDebugDraw\"]) Laya[\"PhysicsDebugDraw\"].enable();\r\n\t\tif (GameConfig.stat) Laya.Stat.show();\r\n\t\tLaya.alertGlobalError(true);\r\n\r\n\t\t//激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程\r\n\t\tLaya.ResourceVersion.enable(Laya.Browser.window._VERSION_JSON || \"version.json\", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);\r\n\t}\r\n\r\n\tonVersionLoaded(): void {\r\n\t\t//激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图\r\n\t\tLaya.AtlasInfoManager.enable(\"fileconfig.json\", Laya.Handler.create(this, this.onConfigLoaded));\r\n\t}\r\n\r\n\tonConfigLoaded(): void {\r\n\t\tLaya.Scene3D.load(\"res/LayaScene_suidao/Conventional/suidao.ls\", Laya.Handler.create(this, this.onLoadScene));\r\n\t}\r\n\r\n\t// 下载场景结束\r\n\tonLoadScene(scn:Laya.Scene3D){\r\n\t\tLaya.stage.addChild(scn);\r\n\r\n\t\tGameGlobal.GameScene = scn;\r\n\t\tGameGlobal.GameCamera = scn.getChildByName(\"Main Camera\") as Laya.Camera;\r\n\t\tGameGlobal.GameCamera.addComponent(ModelViewer);\r\n\t\t//GameGlobal.GameCamera.farPlane = 500; //设置渲染范围\r\n\t\tGameGlobal.GameCamera.fieldOfView = 40;\r\n\t\tGameGlobal.tunnelMgr.init(scn);\r\n\t\t\r\n\r\n\t\t// if(Laya.Browser.window.parent.game_3d_sdk){\r\n\t\t// \tLaya.Browser.window.parent.game_3d_sdk.loaded(GameGlobal.tunnelMgr);\r\n\t\t// }else{\r\n\t\t// \tvar data = {\r\n\t\t// \t\ttunnelId:\"a32932b8-7355-4de5-adf9-034075c89d2c\", // 隧道id\r\n\t\t// \t\tleftHoleLength:1056, // 左洞长度（米）\r\n\t\t// \t\trightHoleLength:1107, // 右洞长度（米）\r\n\t\t// \t\tendStakeMark:710213,  // 左洞结束桩号（桩号米）\r\n\t\t// \t\tendStakeMarkRight:710253, // 右洞结束桩号（桩号米）\r\n\t\t// \t\tlaneNums:3,  // 车道数（个）  \r\n\t\t// \t\tstartStakeMark:709157,  // 左洞开始桩号（桩号米） \r\n\t\t// \t\tstartStakeMarkRight:709146,  // 右洞开始桩号（桩号米）\r\n\t\t// \t\tleftHoleDirection: \"1岳阳方向\", // 左洞方向 \r\n\t\t// \t\trightHoleDirection: \"1湘潭方向\", // 右洞方向 \r\n\t\t// \t\tsingleDoubleType: 3, // 单双洞类型（1单右洞 2单左洞 3双洞）\r\n\t\t// \t  }\r\n\t\t// \t  GameGlobal.tunnelMgr.loadTunnel(data);\r\n\t\t// }\r\n\t\t\r\n\t\tLaya.Browser.window.focus();\r\n\t\t// 定义消息格式\r\n\t\tLaya.Browser.window.addEventListener(\"message\", function(event){\r\n\t\t\tlet msg = event.data;\r\n\t\t\tswitch(msg.msgType){\r\n\t\t\t\tcase \"loadTunnel\":\r\n\t\t\t\t\tGameGlobal.tunnelMgr.loadTunnel(msg.msgData, msg.addData);\r\n\t\t\t\t\tGameConfig.startScene && Laya.Scene.open(GameConfig.startScene); //加载IDE指定的场景\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"addDevice\":\r\n\t\t\t\t\tGameGlobal.tunnelMgr.addDevice(msg.msgData);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"addDevices\":\r\n\t\t\t\t\tGameGlobal.tunnelMgr.addDevices(msg.msgData);\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase \"setAutoView\":\r\n\t\t\t\t\tGameGlobal.CameraScript.autoView(msg.msgData);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"resetView\":\r\n\t\t\t\t\tGameGlobal.CameraScript.reset();\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t\tif(Laya.Browser.window.parent){\r\n\t\t\tlet msg = {\r\n\t\t\t\tmsgType:\"loaded\",\r\n\t\t\t}\r\n\t\t\tLaya.Browser.window.parent.postMessage(msg);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n}\r\n//激活启动类\r\nnew Main();\r\n"],"names":["QbBoardScripte"],"mappings":"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"}