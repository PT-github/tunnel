{"version":3,"file":"bundle.js","sources":["../../src/script/device/MouseMeshScript.ts","../../src/logic/EnumType.ts","../../src/logic/RoadNode.ts","../../src/script/device/AlertorScript.ts","../../src/util/UtilTool.ts","../../src/script/device/DisTextScript.ts","../../src/script/device/DraughtScript.ts","../../src/script/device/HengDongScript.ts","../../src/script/device/IndicatorScript.ts","../../src/script/device/Light01Script.ts","../../src/script/device/LightGruopScript.ts","../../src/script/device/QbBoardScript.ts","../../src/script/device/SignalLampScript.ts","../../src/script/device/DoorScript.ts","../../src/logic/ScnenDevice.ts","../../src/logic/TunnelSprite.ts","../../src/logic/TunnelMgr.ts","../../src/Global.ts","../../src/ui/layaMaxUI.ts","../../src/script/GameUI.ts","../../src/GameConfig.ts","../../src/script/CameraScript.ts","../../src/script/ModelViewer.ts","../../src/Main.ts"],"sourcesContent":["import GameGlobal from \"../../Global\";\r\nimport ScnenDevice from \"../../logic/ScnenDevice\";\r\nimport GameUI from \"../GameUI\";\r\n\r\nexport default class MouseMeshScript extends Laya.Script3D {\r\n\tpublic static TEMP_CAMERA_POS:Laya.Vector3 = new Laya.Vector3(0, 1, 0);\r\n\r\n\t/**\r\n\t *  场景中的节点对象\r\n\t */\r\n    protected nodeSprite:ScnenDevice; \r\n\tprivate _albedoColor = new Laya.Vector4(0.6, 0.6, 0.6, 1);\r\n\r\n\t/**\r\n\t * 默认的X方向坐标\r\n\t */\r\n\tprotected _defaultX:number = 7;\r\n\r\n\t/**\r\n\t * 摄像机查看偏移的高度\r\n\t */\r\n\tprotected _camerOffsetHeight:number = 5;\r\n\r\n\t/**\r\n\t * 摄像机查看的距离\r\n\t */\r\n\tprotected _camerOffsetDis:number = 10;\r\n\r\n\t/**\r\n\t * 摄像机查看点的高度偏移\r\n\t */\r\n\tprotected _camerLookHeight:number = 0;\r\n    constructor(){\r\n\t\tsuper();\r\n\t}\r\n\t/**\r\n\t * 数据被修改了\r\n\t */\r\n\tchangeData(data:any){\r\n\r\n\t}\r\n    /**\r\n    * 覆写3D对象组件被激活后执行，此时所有节点和组件均已创建完毕，此方法只执行一次\r\n    */\r\n    onAwake(){\r\n        this.nodeSprite = this.owner.parent as ScnenDevice;\r\n\r\n\t\tif(this._defaultX == 10000){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet x = 0;\r\n\t\t// 根据坐标id设置坐标X\r\n\t\tif(this.nodeSprite.DeviceData){\r\n\t\t\tswitch(this.nodeSprite.DeviceData.orientationLocation){\r\n\t\t\t\tcase 18:\r\n\t\t\t\tcase 16:\r\n\t\t\t\tcase 17: // 左 中\r\n\t\t\t\tcase 0:// 洞 左\r\n\t\t\t\t\tx = -this._defaultX;\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase 10: // 洞 右\r\n\t\t\t\tcase 12: // 洞 右\r\n\t\t\t\tcase 13: // 洞 右\r\n\t\t\t\tcase 14: // 洞 右\r\n\t\t\t\tcase 15: // 洞 右\r\n\t\t\t\t\tx = this._defaultX;\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase 1: //车道1\r\n\t\t\t\tcase 2: // 车道2\r\n\t\t\t\tcase 3: // 车道3\r\n\t\t\t\t\tx = this.nodeSprite.tunnelSprite.getRoadPosX(this.nodeSprite.DeviceData.orientationLocation);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// 根据位置得转换朝向\r\n\t\t\tswitch(this.nodeSprite.DeviceData.orientationLocation){\r\n\t\t\t\tcase 0:// 洞 左\r\n\t\t\t\tcase 10: // 洞 右\r\n\t\t\t\tcase 12: // 洞 右\r\n\t\t\t\tcase 13: // 洞 右\r\n\t\t\t\tcase 14: // 洞 右\r\n\t\t\t\tcase 15: // 洞 右\r\n\t\t\t\tcase 16: // 洞 左\r\n\t\t\t\tcase 18: // 洞 左\r\n\t\t\t\tcase 17: // 左 中\r\n\t\t\t\t\tif(this.nodeSprite.tunnelSprite.posType == 1){\r\n\t\t\t\t\t\tx = -x;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(x < 0){\r\n\t\t\t\t\t\tthis.nodeSprite.transform.rotate(new Laya.Vector3(0, 180, 0), true, false);\r\n\t\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(x != 0){\r\n\t\t\tthis.nodeSprite.transform.localPosition.x = x;\r\n\t\t\tthis.nodeSprite.transform.localPosition = this.nodeSprite.transform.localPosition;\r\n\t\t}\r\n    }\r\n\r\n    //物体必须拥有碰撞组件（Collider）\r\n    //当被鼠标点击\r\n    onMouseClick(){\r\n        //alert(\"点击到了我box:\" + this.owner.name);\r\n\t\tthis.cameraMoveToLook();\r\n    }\r\n\r\n\t\r\n\t/**\r\n\t * 摄像机移动到观察点\r\n\t */\r\n\tpublic cameraMoveToLook(){\r\n\t\tlet pos = MouseMeshScript.TEMP_CAMERA_POS\r\n\t\tthis.nodeSprite.transform.getForward(pos);\r\n\t\tpos.x *= -this._camerOffsetDis;\r\n\t\tpos.y *= this._camerOffsetDis;\r\n\t\tpos.z *= -this._camerOffsetDis;\r\n\r\n\t\tpos.y += this._camerOffsetHeight;\r\n\t\tLaya.Vector3.add(this.nodeSprite.transform.position, pos, pos);\r\n\r\n\t\tthis.nodeSprite.transform.position.cloneTo(GameGlobal.CameraScript.curLookPos);\r\n\t\tGameGlobal.CameraScript.curLookPos.y += this._camerLookHeight;\r\n\t\tGameGlobal.CameraScript.tweenMoveTo(pos, 500, null, GameGlobal.CameraScript.curLookPos);\r\n\r\n\t\tlet str = this.nodeSprite.name;\r\n\t\tif(this.nodeSprite.DeviceData){\r\n\t\t\tstr = JSON.stringify(this.nodeSprite.DeviceData);\r\n\r\n\t\t\tlet msg = {\r\n\t\t\t\tmsgType:\"clickDevice\",\r\n\t\t\t\tmsgData:this.nodeSprite.DeviceData,\r\n\t\t\t}\r\n\t\t\tLaya.Browser.window.parent.postMessage(msg);\r\n\t\t}\r\n\r\n\t\tGameUI.instance.textSelect.text = \"当前选中：\" + str;\r\n\r\n\t\t\r\n\t}\r\n\r\n\t/**\r\n\t * 覆写组件更新方法（相当于帧循环）\r\n\t */\r\n\tpublic onUpdate():void {\r\n\t\t//所属脚本对象旋转更新\r\n\t\t//this.meshsp.transform.rotate(this._rotation, false, false)\r\n\t}\r\n    onMouseEnter(){\r\n        //console.log(\"onMouseEnter:\", this.owner.name);\r\n\t\tthis.showSelectEffect(true);\r\n    }\r\n    onMouseOut(){\r\n        //console.log(\"onMouseOut:\", this.owner.name);\r\n\t\tthis.showSelectEffect(false);\r\n    }\r\n\r\n\t/**\r\n\t * 显示选中效果\r\n\t * @param bShow \r\n\t */\r\n\tshowSelectEffect(bShow:boolean){\r\n\t\tif(bShow){\r\n\t\t\tthis.setSubMaterialAttr(this.owner, \"albedoColor\", this._albedoColor);\r\n\t\t}else{\r\n\t\t\tthis.setSubMaterialAttr(this.owner, \"albedoColor\");\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 设置子材质属性\r\n\t * @param obj \r\n\t * @param name \r\n\t * @param data \r\n\t * @param nameBack \r\n\t */\r\n\tsetSubMaterialAttr(obj, name:string, data = null, nameBack:string = null){\r\n\t\tif(!nameBack){\r\n\t\t\tnameBack = name + \"_back\"\r\n\t\t}\r\n\t\tif(obj instanceof Laya.MeshSprite3D){\r\n\t\t\tlet mat = obj.meshRenderer.material  as Laya.UnlitMaterial;\r\n\t\t\tif(!mat[nameBack]){\r\n\t\t\t\tmat[nameBack] = mat[name]\r\n\t\t\t}\r\n\t\t\tif(data){\r\n\t\t\t\tmat[name] = data\r\n\t\t\t}else{\r\n\t\t\t\tmat[name] = mat[nameBack]\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(let i=0;i < obj.numChildren; ++i){\r\n\t\t\tthis.setSubMaterialAttr(obj.getChildAt(i) as Laya.Sprite3D, name, data, nameBack);\r\n\t\t}\r\n\t}\r\n}","export default class EnumType {\r\n    public static DEVICE_TYPE_QB_BOARD:number = 1; // 情报板 \r\n    public static DEVICE_TYPE_QB_BOARD_F:number = 2; // F情报板 \r\n    public static DEVICE_TYPE_DRAUGHT:number = 3; // 风机\r\n    public static DEVICE_TYPE_LIGHT01:number = 4; // 大灯01\r\n    public static DEVICE_TYPE_ALERTOR:number = 5; // 火灾警报器\r\n    public static DEVICE_TYPE_PHONE:number = 6; // 电话\r\n    public static DEVICE_TYPE_LIGHT_GRUOP:number = 7; // 6联排灯组\r\n    public static DEVICE_TYPE_SIGNAL_LAMP:number = 8; // 信号灯\r\n    public static DEVICE_TYPE_LAMP_INDICATOR:number = 9; // 车道指示器\r\n    public static DEVICE_TYPE_DOOR:number = 10; // 车行横洞卷闸门\r\n\r\n\r\n    public static DEVICE_TYPE_TEXT_DIS:number = 100; // 距离显示\r\n    public static DEVICE_TYPE_HENGDONG1:number = 101; // 人行横洞\r\n    public static DEVICE_TYPE_HENGDONG2:number = 102; // 车行横洞\r\n    constructor(){\r\n\r\n    }\r\n}","/**\r\n * 马路节点 用于缩放和拼接\r\n */\r\n\r\n export default class RoadNode extends Laya.Sprite3D{\r\n\r\n    private _roadID:number = 0;\r\n    /**\r\n     * 隧道节点类型\r\n     */\r\n    private _nodeType:number = 0;\r\n    /**\r\n     * 默认长度\r\n     */\r\n    private _defaultLength:number = 5;//4.9965;\r\n\r\n    /**\r\n     * 当前显示长度\r\n     */\r\n    private _showLength:number = 50;\r\n\r\n    /**\r\n     * 模型对象\r\n     */\r\n    private _meshNode:Laya.Sprite3D;\r\n\r\n    /**\r\n     * 上一个节点\r\n     */\r\n    public _lastNode:RoadNode;\r\n\r\n    /**\r\n     * 下一个节点\r\n     */\r\n    public _nextNode:RoadNode;\r\n    \r\n    /**\r\n     * 附加数据\r\n     */\r\n    public addData:any;\r\n\r\n    public loaded:Laya.Handler;\r\n\r\n    constructor(nodeType:number, lastNode:RoadNode = null){\r\n        super();\r\n        this._lastNode = lastNode;\r\n        if(lastNode){\r\n            lastNode._nextNode = this;\r\n        }\r\n        this._nodeType = nodeType;\r\n        let filename = \"sd_suidao01\";\r\n        switch(nodeType){\r\n            case 0: // 可缩放隧道节点\r\n\r\n                break;\r\n            case 1: // 隧道头 固定长度\r\n                filename = \"sd_rukou01\";\r\n                this._defaultLength = 36;\r\n                break;\r\n            case 2: // 隧道尾 固定长度\r\n                filename = \"sd_rukou01\";\r\n                this._defaultLength = 36;\r\n                break;\r\n            case 3: // 空洞 只有路 没有拱门\r\n                filename = \"sd_suidao02\";\r\n                break;\r\n            case 4: // 人行带门 左 固定长度\r\n                filename = \"sd_suidao02_xiaoyou\";\r\n            break;\r\n            case 5: // 人行带门 右 固定长度\r\n                filename = \"sd_suidao02_xiaozuo\";\r\n            break;\r\n            case 6: // 车行带门 左 固定长度\r\n                filename = \"sd_suidao02_you\";\r\n            break;\r\n            case 7: // 车行带门 右 固定长度\r\n                filename = \"sd_suidao02_zuo\";\r\n            break;\r\n        }\r\n        this.showLength = this._defaultLength;\r\n        Laya.Sprite3D.load(\"res/LayaScene_suidao/Conventional/\" + filename + \".lh\", Laya.Handler.create(this, this.loadMeshEnd));\r\n        this.name = filename;\r\n        \r\n    }\r\n\r\n        /**\r\n     * 模型加载结束\r\n     * @param lh \r\n     */\r\n    protected loadMeshEnd(lh:Laya.Sprite3D){\r\n        lh.transform.position.toDefault();\r\n        lh.transform.localPosition.toDefault();\r\n        this._meshNode = Laya.Sprite3D.instantiate(lh, this);\r\n        this._meshNode.transform.localScale.setValue(1, 1, 1);\r\n        this._meshNode.transform.localPosition.toDefault();\r\n\r\n        switch(this._nodeType){\r\n            case 1:\r\n                this._meshNode.transform.localPosition.setValue(0.47, 5.23, 0);\r\n                break;\r\n            case 2:\r\n                this._meshNode.transform.localPosition.setValue(-0.4, 5.23, 0);\r\n                this._meshNode.transform.rotate(new Laya.Vector3(0, 0, 180), true, false);\r\n                break;\r\n            case 5:\r\n                this._meshNode.transform.localPosition.setValue(0, 4.515, 0);\r\n            case 3:\r\n            case 0: // 缩放节点需要处理UV的布局\r\n                this.setSubMaterialAttr(this._meshNode.getChildByName(\"sd_qiangbi01 1\"));\r\n                this.setSubMaterialAttr(this._meshNode.getChildByName(\"sd_qiangbi01\"));\r\n                this.setSubMaterialAttr(this._meshNode.getChildByName(\"lanse01\"));\r\n            break;\r\n        }\r\n        this._meshNode.transform.localScale = this._meshNode.transform.localScale;\r\n        this._meshNode.transform.localPosition = this._meshNode.transform.localPosition;\r\n\r\n        if(this.loaded){\r\n            this.loaded.run();\r\n            this.loaded = null;\r\n        }\r\n        \r\n    }\r\n\r\n    /**\r\n     * 当前显示长度\r\n     */\r\n    public get showLength (){\r\n        return this._showLength;\r\n    }\r\n\r\n    /**\r\n     * 设置当前显示的长度，会自动计算偏移点\r\n     * @param len \r\n     */\r\n    public set showLength (len:number){\r\n        this._showLength = len;\r\n        // if(this._nodeType != 0){\r\n        //     return;\r\n        // }\r\n        let scale = len / this._defaultLength; // 根据长度计算出比例缩放\r\n        this.transform.localScale.z = scale;\r\n\r\n        this.transform.localScale = this.transform.localScale;\r\n        let z = - len / 2;\r\n        if(this._lastNode){\r\n            z += this._lastNode.getNextNodePos(); // 紧跟上一个节点\r\n        }else{ // 没有头，则放0的外面开始\r\n            z += len;\r\n        }\r\n        this.transform.localPosition.z = z;\r\n        if(this._roadID != 0){\r\n            this.transform.localPosition.x = this._roadID * -50;\r\n        }\r\n        this.transform.localPosition = this.transform.localPosition;\r\n    }\r\n\r\n    /**\r\n     * 获取下一个节点的位置\r\n     */\r\n    public getNextNodePos(){\r\n        return this.transform.localPosition.z - this._showLength/2;\r\n    }\r\n\r\n\r\n    \t/**\r\n\t * 设置子材质属性\r\n\t * @param obj \r\n\r\n\t */\r\n\tsetSubMaterialAttr(obj){\r\n        if(!obj){\r\n            return;\r\n        }\r\n\t\tif(obj instanceof Laya.MeshSprite3D){\r\n\t\t\tlet mat = obj.meshRenderer.material  as Laya.UnlitMaterial;\r\n\t\t\tmat.tilingOffsetX = this._showLength / this._defaultLength;\r\n            // let text =  mat.albedoTexture as any;\r\n            // text.closeMipmap();\r\n\t\t}\r\n\t\tfor(let i=0;i < obj.numChildren; ++i){\r\n\t\t\tthis.setSubMaterialAttr(obj.getChildAt(i) as Laya.Sprite3D);\r\n\t\t}\r\n\t}\r\n }","import MouseMeshScript from \"./MouseMeshScript\";\r\n\r\nexport default class AlertorScript extends MouseMeshScript{\r\n    constructor(){\r\n        super();\r\n    }\r\n\r\n    onAwake(){\r\n        this._defaultX = 7;\r\n        super.onAwake();\r\n    }\r\n\r\n    onStart(){\r\n\r\n        this._camerOffsetDis = 5;\r\n        this._camerOffsetHeight = 0;\r\n\r\n        this.nodeSprite.transform.localPosition.y = 2.1; // 固定高度偏移\r\n        //this.nodeSprite.transform.localPosition.x = 7;\r\n        \r\n        this.nodeSprite.transform.localPosition = this.nodeSprite.transform.localPosition;\r\n        this.nodeSprite.transform.rotate(new Laya.Vector3(0, -90, 0), true, false);\r\n    }\r\n}","/**\r\n* 工具类\r\n*/\r\nexport default class UtilTool {\r\n\t/**\r\n\t* 创建3D文字纹理\r\n\t* @param str 文字内容\r\n\t* @param fontSize 文字大小  \r\n\t*/\r\n\tpublic static createText3D(str:string, fontSize:number = 50, ftClolor:string = \"rgb(240,0,0)\", font:string = \"宋体\"){\r\n\t\tlet textary = str.split(/[\\n]/);\r\n    let maxw = 0;\r\n    let linecount = textary.length;\r\n    textary.forEach(t => {\r\n      let w = t.replace(/[\\u0391-\\uFFE5]/g,\"aa\").length / 2 * (fontSize + 2);\r\n      maxw = Math.max(w, maxw);\r\n    });\r\n\t\tlet width = maxw;//str.replace(/[\\u0391-\\uFFE5]/g,\"aa\").length / 2 * (fontSize + 2);\r\n\t\twidth = Math.max(width, fontSize * 3);\r\n\r\n\t\t//画布cavans\r\n\t\tlet cav = Laya.Browser.createElement(\"canvas\");\r\n\t\tvar cxt = cav.getContext(\"2d\");\r\n\t\tcav.width = width;\r\n\t\tcav.height = fontSize * linecount;\r\n\t\tcxt.fillStyle = ftClolor;\r\n\t\tcxt.font = \"bold \"+ fontSize + \"px \" + font;\r\n\t\tcxt.textAlign = \"left\";//文本的对齐方式\r\n\t\tcxt.textBaseline = \"top\";//文本相对于起点的位置\r\n\r\n    for(let i = 0; i < linecount; ++i){\r\n      cxt.fillText(textary[i], 0, i * fontSize); //设置文字,位置\r\n    }\r\n\t\t\r\n\r\n\t\t// 生成纹理\r\n\t\tlet texture2D = new Laya.Texture2D(128, 128);\r\n\t\ttexture2D.loadImageSource(cav);\r\n\r\n\t\tLaya.Browser.removeElement(cav);\r\n\t\treturn texture2D;\r\n\t}\r\n\r\n\r\n}\r\n","import UtilTool from \"../../util/UtilTool\";\r\nimport MouseMeshScript from \"./MouseMeshScript\";\r\n\r\n\r\nexport default class DisTextScript extends MouseMeshScript{\r\n\r\n    private meshsp:Laya.MeshSprite3D;\r\n    constructor(){\r\n        super();\r\n    }\r\n\r\n\r\n    onStart(){\r\n       this.meshsp = this.owner as Laya.MeshSprite3D;\r\n       this.meshsp.transform.localPosition.y = 0.3;\r\n       this.meshsp.transform.localPosition = this.meshsp.transform.localPosition;\r\n       if(this.nodeSprite.showData){\r\n           if(!this.nodeSprite.DeviceData){\r\n                this.meshsp.transform.localScale = new Laya.Vector3(1, 1, 0.35); \r\n           }\r\n           this.setText(this.nodeSprite.showData, \"宋体\");\r\n           \r\n       }else{\r\n            let dis = -(this.meshsp.parent as Laya.Sprite3D).transform.localPosition.z;\r\n            this.setText(dis + \"M\", \"宋体\");\r\n\r\n            let node = (this.meshsp.parent as Laya.Sprite3D);\r\n            node.transform.localPosition = node.transform.localPosition; // 让坐标再生效一次 外面设置不知道为什么不生效\r\n       }\r\n\r\n       if(this.nodeSprite.tunnelSprite.posType == 1){\r\n            this.meshsp.transform.rotate(new Laya.Vector3(0, 180, 0), true, false);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 设置文本显示\r\n     */\r\n    setText(text:string, font:string){\r\n        let tex = UtilTool.createText3D(text, 50, \"rgb(240,240,240)\", font);\r\n        let mat = this.meshsp.meshRenderer.material as Laya.EffectMaterial\r\n        mat.texture = tex;\r\n    }\r\n}","import MouseMeshScript from \"./MouseMeshScript\";\r\n\r\n/***\r\n * 风机\r\n */\r\nexport default class DraughtScript extends MouseMeshScript {\r\n\r\n    public static ROTATE_TYPE_VALUE_1:Laya.Vector3 = new Laya.Vector3(0, 0.1, 0);\r\n    public static ROTATE_TYPE_VALUE_2:Laya.Vector3 = new Laya.Vector3(0, -0.1, 0);\r\n    /**\r\n     * 旋转类型0不旋转，1顺时针，2反时针\r\n     */\r\n    private _rotateType:number = 0;\r\n\r\n    private _fengshanMesh:Laya.Sprite3D;\r\n    constructor(){\r\n        super();\r\n    }\r\n\r\n\r\n    onStart(){\r\n        super.onAwake();\r\n        this._camerOffsetHeight = 0.5;\r\n\r\n        this._fengshanMesh = this.owner.getChildByName(\"sd_wj_sd_fengji01_02\") as Laya.Sprite3D;\r\n\r\n        // 设置在场景中高度\r\n\t\tthis.nodeSprite.transform.localPosition.y = 7;\r\n        //this.nodeSprite.transform.localPosition.z = 0;\r\n\t\tthis.nodeSprite.transform.localPosition = this.nodeSprite.transform.localPosition;\r\n\r\n        this._rotateType = 2;\r\n        this.updateState();\r\n    }\r\n\r\n    onUpdate(){\r\n        super.onUpdate();\r\n        if(!this._fengshanMesh){\r\n            return;\r\n        }\r\n        switch(this._rotateType){\r\n            case 1:\r\n                this._fengshanMesh.transform.rotate(DraughtScript.ROTATE_TYPE_VALUE_1);\r\n                break;\r\n            case 2:\r\n                this._fengshanMesh.transform.rotate(DraughtScript.ROTATE_TYPE_VALUE_2);\r\n                break;\r\n        }\r\n    }\r\n\r\n    updateState(){\r\n        this._rotateType = this.nodeSprite.DeviceData.deviceCommunicationsState;\r\n    }\r\n\r\n    changeData(data:any){\r\n        super.changeData(data);\r\n        this.updateState();\r\n    }\r\n}","import MouseMeshScript from \"./MouseMeshScript\";\r\n\r\nexport default class HengDongScript extends MouseMeshScript{\r\n    constructor(){\r\n        super();\r\n    }\r\n\r\n    onAwake(){\r\n        this._defaultX = 7;\r\n        super.onAwake();\r\n    }\r\n\r\n    onStart(){\r\n\r\n        this._camerOffsetDis = 5;\r\n        this._camerOffsetHeight = 0;\r\n\r\n        //this.nodeSprite.transform.localPosition.y = 0; // 固定高度偏移\r\n        this.nodeSprite.transform.localPosition.x = -14.359;\r\n        \r\n        this.nodeSprite.transform.localPosition = this.nodeSprite.transform.localPosition;\r\n    }\r\n}","import MouseMeshScript from \"./MouseMeshScript\"\r\n\r\n/**\r\n * 车道指示器\r\n */\r\nexport default class IndicatorScript extends MouseMeshScript{\r\n\r\n    private _imgList:Array<string> = new Array(\"sd_jinzhi02\", \"sd_zhengxiang01\", \"sd_jinzhi02\", \"sd_zuozhuan01\");\r\n    private _imgList2:Array<string> = new Array(\"sd_jinzhi01\", \"sd_zhengxiang02\", \"sd_jinzhi011\", \"sd_zuozhuan02\");\r\n    constructor(){\r\n        super();\r\n    }\r\n\r\n    onAwake(){\r\n        super.onAwake();\r\n    }\r\n\r\n    onStart(){\r\n        super.onStart();\r\n\r\n        this._camerOffsetDis = 5;\r\n        this._camerOffsetHeight = 0;\r\n        \r\n        this.nodeSprite.transform.localPosition.y = 7; // 固定高度偏移\r\n        \r\n        this.nodeSprite.transform.localPosition = this.nodeSprite.transform.localPosition;\r\n\r\n        let bExit = this.nodeSprite.transform.localPositionZ < -10;\r\n        if(bExit){\r\n            this.nodeSprite.transform.rotate(new Laya.Vector3(0, 180, 0), true, false);\r\n        }\r\n\r\n       this.changeData();\r\n    }\r\n\r\n\r\n    changeData(){\r\n        let sp = this.owner as Laya.Sprite3D;\r\n        for(let i = 0; i < this._imgList.length; ++i){\r\n            let img = sp.getChildByName(this._imgList[i]);\r\n            if(img){\r\n                img.active = false;\r\n            }\r\n            let img2 = sp.getChildByName(this._imgList2[i]);\r\n            if(img2){\r\n                img2.active = false;\r\n            }\r\n        }\r\n        let showimg = sp.getChildByName(this._imgList[this.nodeSprite.DeviceData.deviceCommunicationsState]);\r\n        if(showimg){\r\n            showimg.active = true;\r\n        }\r\n\r\n        // 反向通行\r\n        if(this.nodeSprite.DeviceData.deviceCommunicationsState == 2){\r\n            showimg = sp.getChildByName(this._imgList2[1]);\r\n            showimg.active = true;\r\n        }else{\r\n            showimg = sp.getChildByName(this._imgList2[0]); // 背面禁止通行\r\n            showimg.active = true;\r\n        }\r\n    }\r\n}","import MouseMeshScript from \"./MouseMeshScript\";\r\n\r\nexport default class Light01Script extends MouseMeshScript{\r\n\r\n    constructor(){\r\n        super();\r\n    }\r\n\r\n    onAwake(){\r\n        this._defaultX = 4;\r\n        super.onAwake();\r\n    }\r\n\r\n    onStart(){\r\n        super.onStart();\r\n\r\n        this._camerOffsetDis = 5;\r\n        this._camerOffsetHeight = 0;\r\n\r\n        this.nodeSprite.transform.localPosition.y = 7; // 固定高度偏移\r\n        \r\n        this.nodeSprite.transform.localPosition = this.nodeSprite.transform.localPosition;\r\n        this.nodeSprite.transform.rotate(new Laya.Vector3(0, -90, 0), true, false);\r\n\r\n        this.changeData();\r\n    }\r\n    \r\n    setOpen(bOpen:boolean){\r\n        let sp3 = this.owner as Laya.Sprite3D;\r\n        let light = sp3.getChildByName(\"sd_dadeng02\") as Laya.MeshSprite3D;\r\n        light.getChildAt(0).active = bOpen;\r\n        let mat = light.meshRenderer.material as Laya.EffectMaterial;\r\n        if(bOpen){\r\n            mat.colorA = 1;\r\n        }else{\r\n            mat.colorA = 0.1;\r\n        }\r\n        \r\n    }\r\n\r\n    changeData(){\r\n        this.setOpen(this.nodeSprite.DeviceData.deviceCommunicationsState == 1);\r\n    }\r\n}","import ScnenDevice from \"../../logic/ScnenDevice\";\r\nimport UtilTool from \"../../util/UtilTool\";\r\nimport MouseMeshScript from \"./MouseMeshScript\";\r\n\r\n\r\nexport default class LightGruopScript extends MouseMeshScript{\r\n\r\n    constructor(){\r\n        super();\r\n    }\r\n    onAwake(){\r\n        this.nodeSprite = this.owner.parent as ScnenDevice;\r\n        this._defaultX = 7;\r\n        if(this.nodeSprite.DeviceData.orientationLocation == 17){\r\n            this._defaultX = 16;\r\n        }\r\n        super.onAwake();\r\n    }\r\n\r\n    onStart(){\r\n        this._camerOffsetDis = 5;\r\n        this._camerOffsetHeight = 0;\r\n\r\n        this.nodeSprite.transform.localPosition.y = 3.2; // 固定高度偏移\r\n        this.nodeSprite.transform.localPosition = this.nodeSprite.transform.localPosition;\r\n\r\n        if(this.nodeSprite.DeviceData.orientationLocation != 17){\r\n            this.nodeSprite.transform.rotate(new Laya.Vector3(0, -90, 0), true, false);\r\n        }else{\r\n            // 横洞中的距离单独处理\r\n            let ms = this.owner as Laya.Sprite3D;\r\n            ms.transform.localPosition.z = -4;\r\n            ms.transform.localPosition = ms.transform.localPosition;\r\n        }\r\n        \r\n\r\n        this.changeData();\r\n    }\r\n\r\n    setOpen(bOpen:boolean){\r\n        let sp3 = this.owner as Laya.Sprite3D;\r\n        for(let i = 0; i < 6; i ++){\r\n            let light = sp3.getChildAt(i);\r\n            let sp0 = light.getChildAt(0) as Laya.Sprite3D;\r\n            let sp1 = light.getChildAt(1) as Laya.Sprite3D;\r\n            sp0.active = bOpen;\r\n            sp1.active = !bOpen;\r\n        }\r\n    }\r\n\r\n    changeData(){\r\n        this.setOpen(this.nodeSprite.DeviceData.deviceCommunicationsState == 1);\r\n    }\r\n}","import EnumType from \"../../logic/EnumType\";\r\nimport UtilTool from \"../../util/UtilTool\";\r\nimport MouseMeshScript from \"./MouseMeshScript\";\r\n\r\n/***\r\n * 情报板\r\n */\r\nexport default class QbBoardScript extends MouseMeshScript {\r\n\r\n    constructor(){\r\n        super();\r\n    }\r\n\r\n        /**\r\n    * 覆写3D对象组件被激活后执行，此时所有节点和组件均已创建完毕，此方法只执行一次\r\n    */\r\n    onStart(){\r\n        super.onAwake();\r\n\t\tthis._camerOffsetHeight = 15;\r\n\t\tthis._camerLookHeight = 4;\r\n\r\n        let bExit = this.nodeSprite.transform.localPositionZ < -10;\r\n\t\t// 临时设置到场景中的位置\r\n        if(this.nodeSprite.deviceType == EnumType.DEVICE_TYPE_QB_BOARD_F){\r\n            this.nodeSprite.transform.localPosition.x = 8.6;\r\n            //this.nodeSprite.transform.localPosition.z = 32;\r\n            this.showText(this.nodeSprite.DeviceData.contentText, 50);\r\n            if(bExit){\r\n                this.nodeSprite.transform.localPosition.x = 7.6;\r\n            }\r\n\r\n        }else{\r\n            let sp = this.owner as Laya.Sprite3D;\r\n            sp.transform.localPosition.y = 9.28;\r\n\t\t    sp.transform.localPosition = sp.transform.localPosition;\r\n            this.nodeSprite.transform.localPosition.x = 0;\r\n            //this.nodeSprite.transform.localPosition.z = 22;\r\n            this.showText(this.nodeSprite.DeviceData.contentText, 50);\r\n        }\r\n\r\n        if(bExit){ // 在出口要旋转\r\n            this.nodeSprite.transform.localPosition.x = -this.nodeSprite.transform.localPosition.x;\r\n            this.nodeSprite.transform.rotate(new Laya.Vector3(0, 180, 0), true, false);\r\n        }\r\n\t\t\r\n\t\tthis.nodeSprite.transform.localPosition = this.nodeSprite.transform.localPosition;\r\n   }\r\n\r\n   /**\r\n    * 设置情报板内容\r\n    * @param str \r\n    */\r\n   showText(str:string, ftSize:number){\r\n        let meshsp = this.owner.getChildAt(0) as Laya.MeshSprite3D;\r\n        let anm:Laya.Animator = meshsp.getComponent(Laya.Animator);\r\n        let tex = UtilTool.createText3D(str,50, \"rgb(250,0,0)\", \"Microsoft YaHei\");\r\n        let mat = meshsp.meshRenderer.material as Laya.EffectMaterial\r\n        mat.texture = tex;\r\n        \r\n        if(anm){\r\n            let w = str.replace(/[\\u0391-\\uFFE5]/g,\"aa\").length; // 文字数量，中文占2个\r\n            anm.speed = 10 / w; // 根据数字匹配对应的速度\r\n        }\r\n   }\r\n}\r\n","\r\nimport MouseMeshScript from \"./MouseMeshScript\"\r\n\r\n/**\r\n * 信号灯\r\n */\r\nexport default class SignalLampScript extends MouseMeshScript{\r\n\r\n    private _imgs:Array<string> = new Array(\"sd_lvdeng001\", \"sd_hongdeng001\", \"sd_huangdeng001\", \"sd_zuozhuandeng001\", \"sd_youzhuandeng001\"); // 交通信号灯：0绿灯 1红灯 2黄灯 3左转 4右转\r\n    constructor(){\r\n        super();\r\n    }\r\n\r\n    onAwake(){\r\n        super.onAwake();\r\n    }\r\n\r\n    onStart(){\r\n        super.onStart();\r\n\r\n        \r\n        this._camerOffsetDis = 5;\r\n        this._camerOffsetHeight = 0;\r\n        \r\n        this.nodeSprite.transform.localPosition.x = 0;\r\n        this.nodeSprite.transform.localPosition.y = 7; // 固定高度偏移\r\n        this.nodeSprite.transform.localPosition = this.nodeSprite.transform.localPosition;\r\n        \r\n        let bExit = this.nodeSprite.transform.localPositionZ < -10;\r\n        if(bExit){\r\n            this.nodeSprite.transform.rotate(new Laya.Vector3(0, 180, 0), true, false);\r\n        }\r\n        this.changeData();\r\n    }\r\n\r\n\r\n    changeData(){\r\n        let sp = this.owner as Laya.Sprite3D;\r\n        for(let i=0;i < this._imgs.length; ++i){\r\n            let img = sp.getChildByName(this._imgs[i]);\r\n            img.active = (this.nodeSprite.DeviceData.deviceCommunicationsState == i)\r\n        }\r\n    }\r\n}","import MouseMeshScript from \"./MouseMeshScript\";\r\n\r\nexport default class DoorScript extends MouseMeshScript{\r\n    constructor(){\r\n        super();\r\n    }\r\n\r\n    onAwake(){\r\n        // this._defaultX = 10000;\r\n        this._defaultX = 6.6;\r\n        super.onAwake();\r\n    }\r\n\r\n    onStart(){\r\n\r\n        this._camerOffsetDis = 5;\r\n        this._camerOffsetHeight = 5;\r\n\r\n        let meshsp = this.owner as Laya.Sprite3D;\r\n        meshsp.transform.localPosition.x = 4.6;\r\n        if(this.nodeSprite.transform.localPosition.x > 0){\r\n            meshsp.transform.localPosition.x = -0.3;\r\n        }\r\n        meshsp.transform.localPosition = meshsp.transform.localPosition;\r\n\r\n        this.nodeSprite.transform.localPosition.y = 2.41; // 固定高度偏移\r\n        //this.nodeSprite.transform.localPosition.x = -6.6;\r\n        \r\n        this.nodeSprite.transform.localPosition = this.nodeSprite.transform.localPosition;\r\n        this.nodeSprite.transform.rotate(new Laya.Vector3(0, -90, 0), true, false);\r\n        this.changeData();\r\n    }\r\n    \r\n    changeData(){\r\n        let ms = this.owner.getChildByName(\"sd_juanzhamen01\");\r\n        switch(this.nodeSprite.DeviceData.deviceCommunicationsState){\r\n            case 0:\r\n                break;\r\n            case 1:\r\n                ms.active = false;\r\n                break;\r\n            case 2:\r\n                ms.active = true;\r\n                break;\r\n        }\r\n    }\r\n}","import AlertorScript from \"../script/device/AlertorScript\";\r\nimport DisTextScript from \"../script/device/DisTextScript\";\r\nimport DraughtScript from \"../script/device/DraughtScript\";\r\nimport HengDongScript from \"../script/device/HengDongScript\";\r\nimport IndicatorScript from \"../script/device/IndicatorScript\";\r\nimport Light01Script from \"../script/device/Light01Script\";\r\nimport LightGruopScript from \"../script/device/LightGruopScript\";\r\nimport MouseMeshScript from \"../script/device/MouseMeshScript\";\r\nimport QbBoardScripte from \"../script/device/QbBoardScript\";\r\nimport SignalLampScript from \"../script/device/SignalLampScript\";\r\nimport DoorScript from \"../script/device/DoorScript\";\r\n\r\nimport EnumType from \"./EnumType\";\r\nimport TunnelSprite from \"./TunnelSprite\";\r\n\r\n/**\r\n * 隧道设备基类\r\n */\r\nexport default class ScnenDevice extends Laya.Sprite3D {\r\n    /**\r\n     * 附带数据\r\n     */\r\n    private _deviceData:any;\r\n\r\n    /**\r\n     *  显示数据\r\n     */\r\n    private _showData:any;\r\n\r\n    /**\r\n     * 设备类型\r\n     */\r\n    private _deviceType:number;\r\n\r\n\r\n    constructor(dt:number) {\r\n        super();\r\n\r\n        this._deviceType = dt;\r\n        switch(this._deviceType){\r\n            case EnumType.DEVICE_TYPE_QB_BOARD:\r\n                this.loadItem(\"sd_qingbaoban02\");\r\n            break;\r\n            case EnumType.DEVICE_TYPE_QB_BOARD_F:\r\n                this.loadItem(\"sd_qingbaoban01\");\r\n            break;\r\n            case EnumType.DEVICE_TYPE_DRAUGHT:\r\n                this.loadItem(\"sd_wj_sd_fengji01\");\r\n            break;\r\n            case EnumType.DEVICE_TYPE_LIGHT01:\r\n                this.loadItem(\"sd_dadeng01\");    \r\n            break;\r\n            case EnumType.DEVICE_TYPE_TEXT_DIS:\r\n                this.loadItem(\"textdis\");\r\n            break;\r\n            case EnumType.DEVICE_TYPE_ALERTOR:\r\n                this.loadItem(\"sd_huozhaijingbao01\");\r\n            break;\r\n            case EnumType.DEVICE_TYPE_PHONE:\r\n                this.loadItem(\"sd_dianhuaguangbo01\");\r\n            break;\r\n            case EnumType.DEVICE_TYPE_LIGHT_GRUOP:\r\n                this.loadItem(\"dengzu01\");\r\n            break;\r\n            case EnumType.DEVICE_TYPE_SIGNAL_LAMP:\r\n                this.loadItem(\"sd_xinhaodeng01\");\r\n            break;\r\n            case EnumType.DEVICE_TYPE_LAMP_INDICATOR:\r\n                this.loadItem(\"sd_daoluzhishideng01\");\r\n            break;\r\n            case EnumType.DEVICE_TYPE_HENGDONG1:\r\n                this.loadItem(\"sd_hengdao02\");\r\n            break;\r\n            case EnumType.DEVICE_TYPE_HENGDONG2:\r\n                this.loadItem(\"sd_hengdao01\");\r\n            break;\r\n            case EnumType.DEVICE_TYPE_DOOR:\r\n                this.loadItem(\"suidaomen01\");\r\n                break;\r\n        }\r\n    }\r\n\r\n    loadItem(name:string) {\r\n       Laya.Sprite3D.load(\"res/LayaScene_suidao/Conventional/\" + name +\".lh\", Laya.Handler.create(this, this.loadMeshEnd));\r\n       this.name = name;\r\n    } \r\n\r\n    /**\r\n     * 隧道对象\r\n     */\r\n    get tunnelSprite(){\r\n        return this.parent as TunnelSprite;\r\n    }\r\n\r\n    /**\r\n     * 设备类型\r\n     */\r\n    get deviceType(){\r\n        return this._deviceType;\r\n    }\r\n\r\n    /**\r\n     * 获取设备操作脚本\r\n     * @returns \r\n     */\r\n    getDeviceScirpt() {\r\n        let sp3d = this.getChildAt(0);\r\n        if(!sp3d){\r\n            return null;\r\n        }\r\n        return sp3d.getComponent(MouseMeshScript);\r\n    }\r\n\r\n    /**\r\n     * 模型加载结束\r\n     * @param lh \r\n     */\r\n    public loadMeshEnd(lh:Laya.Sprite3D, bBind:boolean = false){\r\n        let sp3d = lh;\r\n        if(!bBind){\r\n            lh.transform.position.toDefault();\r\n            lh.transform.localPosition.toDefault();\r\n            sp3d = Laya.Sprite3D.instantiate(lh, this);\r\n            sp3d.transform.localPosition.toDefault();\r\n            sp3d.transform.localPosition = sp3d.transform.localPosition;\r\n        }else{\r\n            this.addChild(lh);\r\n        }\r\n\r\n        switch(this._deviceType){\r\n            case EnumType.DEVICE_TYPE_QB_BOARD_F:\r\n            case EnumType.DEVICE_TYPE_QB_BOARD:\r\n                sp3d.addComponent(QbBoardScripte);\r\n            break;\r\n            case EnumType.DEVICE_TYPE_DRAUGHT:\r\n                sp3d.addComponent(DraughtScript);\r\n            break;\r\n            case EnumType.DEVICE_TYPE_LIGHT01:\r\n                sp3d.addComponent(Light01Script);\r\n            break;\r\n            case EnumType.DEVICE_TYPE_TEXT_DIS:\r\n                sp3d.addComponent(DisTextScript);    \r\n            break;\r\n            case EnumType.DEVICE_TYPE_ALERTOR:\r\n                sp3d.addComponent(AlertorScript);    \r\n            break;\r\n            case EnumType.DEVICE_TYPE_PHONE:\r\n                sp3d.addComponent(AlertorScript);  \r\n            break;\r\n            case EnumType.DEVICE_TYPE_LIGHT_GRUOP:\r\n                sp3d.addComponent(LightGruopScript);  \r\n            break;\r\n            case EnumType.DEVICE_TYPE_SIGNAL_LAMP:\r\n                sp3d.addComponent(SignalLampScript);\r\n            break;\r\n            case EnumType.DEVICE_TYPE_LAMP_INDICATOR:\r\n                sp3d.addComponent(IndicatorScript);\r\n            break;\r\n            case EnumType.DEVICE_TYPE_HENGDONG1:\r\n            case EnumType.DEVICE_TYPE_HENGDONG2:\r\n                sp3d.addComponent(HengDongScript);\r\n            break;\r\n            case EnumType.DEVICE_TYPE_DOOR:\r\n                sp3d.addComponent(DoorScript);\r\n            break;\r\n        }\r\n    }\r\n\r\n    get DeviceData(){\r\n        return this._deviceData;\r\n    }\r\n\r\n    public changeData(data){\r\n        this._deviceData = data;\r\n        let sc = this.getDeviceScirpt() as MouseMeshScript;\r\n        if(sc){\r\n            sc.changeData(data);\r\n        }\r\n    }\r\n\r\n    get showData(){\r\n        return this._showData;\r\n    }\r\n\r\n    /**\r\n     * 切换显示数据\r\n     * @param data \r\n     */\r\n    public changeShowData(data:any){\r\n        this._showData = data;\r\n        let sc = this.getDeviceScirpt() as MouseMeshScript;\r\n        if(sc){\r\n            sc.changeData(data);\r\n        }\r\n    }\r\n}","import GameGlobal from \"../Global\";\r\nimport MouseMeshScript from \"../script/device/MouseMeshScript\";\r\nimport UtilTool from \"../util/UtilTool\";\r\nimport EnumType from \"./EnumType\";\r\nimport RoadNode from \"./RoadNode\";\r\nimport ScnenDevice from \"./ScnenDevice\";\r\n/**\r\n * 单条渲染隧道\r\n */\r\nexport default class TunnelSprite extends Laya.Sprite3D{\r\n    /**\r\n     * 隧道长度\r\n     */\r\n    public TunnelLength:number = 200;\r\n\r\n    /**\r\n     * 隧道位置类型 0为右洞  1为左洞\r\n     */\r\n    private _posType:number =0; \r\n\r\n    /**\r\n     * 车道数\r\n     */\r\n    public RoadCount:number = 3;\r\n\r\n    /**\r\n     * 隧道节点列表\r\n     */\r\n    private _nodeList:Array<RoadNode>= new Array();\r\n\r\n    /**\r\n     * 是否为激活状态\r\n     */\r\n    private _bActive:boolean;\r\n\r\n\r\n    /**\r\n     * 隧道的起始桩号，所有设备位置都应该根据这个值做偏移\r\n     */\r\n    private _startMark:number = 0;\r\n\r\n\r\n    /**\r\n     * 方向显示\r\n     */\r\n    private _disText:string = \"方向显示\";\r\n    constructor(){\r\n        super();\r\n    }\r\n\r\n    get posType(){\r\n        return this._posType;\r\n    }\r\n\r\n    set startMark(num:number){\r\n        this._startMark = num;\r\n    }\r\n\r\n    get startMark(){\r\n        return this._startMark;\r\n    }\r\n\r\n\r\n    /**\r\n     * 根据车道获取车道中心位置\r\n     * @param index \r\n     */\r\n    getRoadPosX(index:number){\r\n        let x = 0;\r\n        switch(index){\r\n            case 1:\r\n                x = -3.7;\r\n                break;\r\n            case 2:\r\n                break;\r\n            case 3:\r\n                x = 3.8;\r\n                break;\r\n        }\r\n        if(this.posType == 1){\r\n            x = -x;\r\n        }\r\n        return x;\r\n    }\r\n\r\n    /**\r\n     * 初始化隧道\r\n     * @param len \r\n     * @param posType \r\n     * @param addData 横洞空洞数据\r\n     */\r\n    init(len:number, posType:number, addData:any){\r\n        this.TunnelLength = len;\r\n        this._posType = posType;\r\n\r\n        this.name = \"TunnelSprite\" + this._posType;\r\n\r\n        // let Q1 = new ScnenDevice(EnumType.DEVICE_TYPE_QB_BOARD);\r\n        // Q1.changeShowData(\"道路千万条,安全第一条,行车不规范,亲人两行泪\");\r\n\t\t// this.addChild(Q1);\r\n\r\n        // let Q2 = new ScnenDevice(EnumType.DEVICE_TYPE_QB_BOARD_F);\r\n        // Q2.changeShowData(\"众志成城\\n抗击疫情\");\r\n\t\t// this.addChild(Q2);\r\n\r\n        // 风机\r\n\t\t// let fengji = new ScnenDevice(EnumType.DEVICE_TYPE_DRAUGHT);\r\n\t\t// this.addChild(fengji);\r\n\r\n\t\t// 距离显示\r\n        let num =  Math.floor(this.TunnelLength / 100) + 1;\r\n\t\tfor(let i =0; i < num; ++i){\r\n\t\t\tlet dis = this.addChild(new ScnenDevice(EnumType.DEVICE_TYPE_TEXT_DIS))  as Laya.Sprite3D;\r\n\t\t\tdis.transform.localPosition.z = -100 * i;\r\n\t\t}\r\n\r\n\r\n        // // 测试大灯\r\n\t\t// for(let i =0; i < 10; ++i){\r\n\t\t// \tlet li = this.addChild(new ScnenDevice(EnumType.DEVICE_TYPE_LIGHT01)) as Laya.Sprite3D;\r\n\t\t// \tli.transform.localPosition.z = -18 - 20 * i;\r\n\t\t// }\r\n\r\n        // // 测试警报器\r\n\t\t// for(let i =0; i < 5; ++i){\r\n\t\t// \tlet li = this.addChild(new ScnenDevice(EnumType.DEVICE_TYPE_ALERTOR)) as Laya.Sprite3D;\r\n\t\t// \tli.transform.localPosition.z = -4 - 50 * i;\r\n\t\t// }\r\n\r\n        // // 测试电话\r\n\t\t// for(let i =0; i < 5; ++i){\r\n\t\t// \tlet li = this.addChild(new ScnenDevice(EnumType.DEVICE_TYPE_PHONE)) as Laya.Sprite3D;\r\n\t\t// \tli.transform.localPosition.z = -10 - 60 * i;\r\n\t\t// }\r\n\r\n        // // 测试灯组\r\n\t\t// for(let i =0; i < 5; ++i){\r\n\t\t// \tlet li = this.addChild(new ScnenDevice(EnumType.DEVICE_TYPE_LIGHT_GRUOP)) as ScnenDevice;\r\n        //     li.changeShowData(i%2==1);\r\n\t\t// \tli.transform.localPosition.z = -20 - 30 * i;\r\n\t\t// }\r\n        \r\n        // 根据总长度和横洞空洞数据，计算出所有节点\r\n        let roadDataList = [];\r\n        for(let i = 0; i < addData.length; ++i){\r\n\r\n            let hd = {\r\n                data:addData[i],\r\n                pos:addData[i].pileNumber - this.startMark,\r\n            }\r\n            if(hd.data.leftRightFlag == posType + 1 || hd.data.leftRightFlag == 3){\r\n                roadDataList.push(hd);\r\n            }\r\n        }\r\n        roadDataList.sort(function(a, b){\r\n            return a.pos - b.pos;\r\n        })\r\n\r\n        \r\n        let kouzi = new RoadNode(1);\r\n        this.addChild(kouzi);\r\n        this._nodeList.push(kouzi);\r\n\r\n        let lastRoad = kouzi;\r\n        // let road1 = new RoadNode(0, kouzi);\r\n        // road1.showLength = this.TunnelLength;\r\n        // this.addChild(road1);\r\n\r\n        // // 临时添加一个断开的点\r\n        // let road2 = new RoadNode(4, road1);\r\n        // road2.showLength = 0;\r\n        // this.addChild(road2);\r\n\r\n        // let road3 = new RoadNode(0, road2);\r\n        // road3.showLength = this.TunnelLength - road1.showLength - road2.showLength;\r\n        // this.addChild(road3);\r\n        let curlen = 0;\r\n        for(let i = 0; i < roadDataList.length; ++i){\r\n            if(curlen < roadDataList[i].pos){ // 缺一段插入一段\r\n                let road1 = new RoadNode(0, lastRoad);\r\n                road1.showLength = roadDataList[i].pos - curlen;\r\n                this.addChild(road1);\r\n                this._nodeList.push(road1);\r\n                lastRoad = road1;\r\n                curlen = roadDataList[i].pos;\r\n            }\r\n            // 插入空洞横洞\r\n            let ntype = 0;\r\n            let showlen = 5;\r\n            let hengdong = 0;\r\n            switch(roadDataList[i].data.emptyType){\r\n                case 0:// 空洞\r\n                    ntype = 3;\r\n                    showlen = roadDataList[i].data.length;\r\n                break;\r\n                case 1: // 人行横洞\r\n                    ntype = this.posType == 0 ? 4:5;\r\n                    hengdong = EnumType.DEVICE_TYPE_HENGDONG1;\r\n                    break;\r\n                case 2: // 车行横洞\r\n                    ntype = this.posType == 0 ? 6:7;\r\n                    hengdong = EnumType.DEVICE_TYPE_HENGDONG2;\r\n                    break;\r\n            }\r\n\r\n            // 添加横洞\r\n            if(this.posType == 0 && hengdong != 0){\r\n                let hd = this.addChild(new ScnenDevice(hengdong))  as ScnenDevice;\r\n                hd.changeData(roadDataList[i].data);\r\n                hd.transform.localPosition.z = lastRoad.getNextNodePos() - showlen / 2;\r\n            }\r\n\r\n            // 添加带门的节点\r\n            let road2 = new RoadNode(ntype, lastRoad);\r\n            road2.showLength = showlen;\r\n            road2.addData = roadDataList[i].data;\r\n            this.addChild(road2);\r\n            this._nodeList.push(road2);\r\n            lastRoad = road2;\r\n            curlen += road2.showLength;\r\n        }\r\n\r\n        if(curlen < this.TunnelLength){ // 剩下的用隧道缩放补上\r\n            let road3 = new RoadNode(0, lastRoad);\r\n            road3.showLength = this.TunnelLength - curlen;\r\n            this.addChild(road3);\r\n            this._nodeList.push(road3);\r\n            lastRoad = road3;\r\n        }\r\n\r\n        // 尾部\r\n        let weiba = new RoadNode(2, lastRoad)\r\n        this.addChild(weiba);\r\n        this._nodeList.push(weiba);\r\n\r\n        this.transform.localPosition.x = posType * -28.6;\r\n        this.transform.localPosition = this.transform.localPosition;\r\n    }\r\n\r\n    /**\r\n     * 根据桩号查找对应的横洞节点\r\n     * @param num \r\n     */\r\n    findHengDongNode(num:number){\r\n        for(let i = 0; i < this._nodeList.length; ++i){\r\n            let node = this._nodeList[i];\r\n            if(node.addData && node.addData.pileNumber == num){\r\n                return node;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 添加设备到隧道\r\n     * @param data \r\n     */\r\n    addDevice(data:any):ScnenDevice{\r\n        let pos = data.pileNumber - this.startMark;\r\n        let deviceType = 0;\r\n        switch(data.deviceTypeCode){\r\n            case \"signallamp\": // 信号灯\r\n                deviceType = EnumType.DEVICE_TYPE_SIGNAL_LAMP;\r\n                break;\r\n            case \"laneIndicator\": // 车道指示器\r\n                deviceType = EnumType.DEVICE_TYPE_LAMP_INDICATOR;\r\n                break;\r\n            case \"urgentphone\": // 紧急电话\r\n                deviceType = EnumType.DEVICE_TYPE_PHONE;\r\n                break;\r\n            case \"controller\": // 控制器\r\n                break;\r\n            case \"broadcast\": // 广播\r\n                deviceType = EnumType.DEVICE_TYPE_PHONE;\r\n                break;\r\n            case \"conflagration\": // 火灾消防\r\n                deviceType = EnumType.DEVICE_TYPE_ALERTOR;\r\n            break;\r\n                case \"guidelight\": // 诱导灯\r\n                break;\r\n            case \"lighting\": // 照明灯\r\n                deviceType = EnumType.DEVICE_TYPE_LIGHT01;\r\n                break;\r\n            case \"lightingloop\": // 灯回路 联排\r\n                deviceType = EnumType.DEVICE_TYPE_LIGHT_GRUOP;\r\n                break;\r\n            case \"waterlevel\": // 水位检测\r\n                break;\r\n            case \"electronicfence\": // 电子围栏\r\n                break;\r\n            case \"environment\": // 机房环境\r\n                break;\r\n            case \"tunneldoor\": // 横洞卷闸门\r\n                deviceType = EnumType.DEVICE_TYPE_DOOR;\r\n                break;\r\n            case \"draughtfan\": // 风机\r\n                deviceType = EnumType.DEVICE_TYPE_DRAUGHT;\r\n                break;\r\n            case \"video\": // 视频监控\r\n                break;\r\n            case \"intelligenceboard\": // 情报板\r\n                switch(data.deviceSubtypeCode){\r\n                    case \"M\":\r\n                        deviceType = EnumType.DEVICE_TYPE_QB_BOARD;\r\n                        break;\r\n                    case \"F\":\r\n                        deviceType = EnumType.DEVICE_TYPE_QB_BOARD_F;\r\n                        break;\r\n                }\r\n                break;\r\n        }\r\n        if(deviceType == 0){\r\n            return null;\r\n        }\r\n\r\n        let li = this.addChild(new ScnenDevice(deviceType)) as ScnenDevice;\r\n        li.changeData(data);\r\n        \r\n        li.transform.localPosition.z = -pos;\r\n\r\n        return li\r\n    }\r\n\r\n    /**\r\n     * 设置方向显示\r\n     * @param text \r\n     */\r\n    setDirText(text:string){\r\n        this._disText = text + \"->->\"\r\n        // 方向显示 入口\r\n        let textdir = this.addChild(new ScnenDevice(EnumType.DEVICE_TYPE_TEXT_DIS))  as ScnenDevice;\r\n        textdir.changeShowData(this._disText);\r\n        if(this._posType == 0){\r\n            textdir.transform.localPosition.setValue(15, -1, 20);\r\n        }else{\r\n            textdir.transform.localPosition.setValue(-15, -1, 20);\r\n        }\r\n        textdir.transform.localPosition = textdir.transform.localPosition;\r\n\r\n        // 方向显示 出口\r\n        let textdir1 = this.addChild(new ScnenDevice(EnumType.DEVICE_TYPE_TEXT_DIS))  as ScnenDevice;\r\n        textdir1.changeShowData(this._disText);\r\n        if(this._posType == 0){\r\n            textdir1.transform.localPosition.setValue(15, -1, 20 - this.TunnelLength - 40);\r\n        }else{\r\n            textdir1.transform.localPosition.setValue(-15, -1, 20 - this.TunnelLength -40);\r\n        }\r\n        textdir1.transform.localPosition = textdir1.transform.localPosition;\r\n\r\n\r\n        // 路中方向显示\r\n        let num =  Math.floor(this.TunnelLength / 250) + 1;\r\n        for(let i =1; i < num; ++i){\r\n            let dis = this.addChild(new ScnenDevice(EnumType.DEVICE_TYPE_TEXT_DIS))  as ScnenDevice;\r\n            dis.changeShowData(this._disText);\r\n            dis.changeData(true);\r\n            dis.transform.localPosition.z = -10 - 250 * i;\r\n            dis.transform.localPosition = dis.transform.localPosition;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取视角\r\n     */\r\n    getViewPos(){\r\n        let sp1 = this._nodeList[0];\r\n        GameGlobal.CameraScript.autoViewIndex ++;\r\n        if(GameGlobal.CameraScript.autoViewIndex > 1){\r\n            GameGlobal.CameraScript.autoViewIndex = 0;\r\n            sp1 = this._nodeList[this._nodeList.length - 1];\r\n        }\r\n        \r\n        let view = sp1.getChildAt(0).getChildByName(\"view\") as Laya.Sprite3D;\r\n        let dis = 3;\r\n        let h = 2;\r\n        let pos = MouseMeshScript.TEMP_CAMERA_POS\r\n\t\tpos.x = 0;\r\n\t\tpos.y = 0;\r\n\t\tpos.z = dis;\r\n\r\n\t\tpos.y += h;\r\n\t\tLaya.Vector3.add(view.transform.position, pos, pos);\r\n\r\n\t\tview.transform.position.cloneTo(GameGlobal.CameraScript.curLookPos);\r\n        GameGlobal.CameraScript.curLookPos.y += h;\r\n\r\n        let moveDis = Laya.Vector3.distance(pos, GameGlobal.GameCamera.transform.position);\r\n\r\n\t\tGameGlobal.CameraScript.tweenMoveTo(pos, moveDis * 100, null, GameGlobal.CameraScript.curLookPos);\r\n    }\r\n\r\n}","import GameGlobal from \"../Global\";\r\nimport ScnenDevice from \"./ScnenDevice\";\r\nimport TunnelSprite from \"./TunnelSprite\";\r\n\r\n/**\r\n * 隧道管理\r\n */\r\nexport default class TunnelMgr {\r\n    /**\r\n     * 单隧道还是双隧道\r\n     */\r\n    public TunnelCount:number = 2;\r\n\r\n    /**\r\n     * 设备列表\r\n     */\r\n    private _deviceList:Map<string, ScnenDevice> = new Map();\r\n\r\n    /**\r\n     * 隧道初始化数据\r\n     */\r\n    public InitData:any;\r\n\r\n    /**\r\n     * 左洞\r\n     */\r\n    private _leftTunnelSprite:TunnelSprite;\r\n\r\n      /**\r\n     * 右洞\r\n     */\r\n    private _rightTunnelSprite:TunnelSprite;\r\n\r\n    constructor(){\r\n\r\n    }\r\n\r\n    /**\r\n     * 初始化隧道\r\n     */\r\n    init(scn){\r\n      // 方向测试\r\n      // let sp3d01 = scn.getChildByName(\"textdir01\") as Laya.MeshSprite3D;\r\n      // let tex = UtilTool.createText3D(\"长沙方向→\", 60, \"rgb(240,240,240)\");\r\n      // let mat = sp3d01.meshRenderer.sharedMaterial as Laya.EffectMaterial\r\n      // mat.texture = tex;\r\n\r\n      // for(let i = 0; i < this.TunnelCount; ++i){\r\n      //   let ts = new TunnelSprite();\r\n      //   ts.init(200 + i * 100, i);\r\n      //   ts.name = \"TunnelSprite0\";\r\n      //   scn.addChild(ts);\r\n      // }\r\n    }\r\n\r\n    /**\r\n     * 初始化隧道信息\r\n     * @param data \r\n     */\r\n    loadTunnel(data:any, addData:any){\r\n      this.InitData = data;\r\n      \r\n      // 左洞\r\n      let ts0 = new TunnelSprite();\r\n      GameGlobal.GameScene.addChild(ts0);\r\n      ts0.RoadCount = data.laneNums;\r\n      ts0.startMark = data.startStakeMark;\r\n      ts0.init(data.leftHoleLength, 1, addData);\r\n      ts0.setDirText(data.leftHoleDirection);\r\n      ts0.transform.position.z = data.startStakeMarkRight - data.startStakeMark;\r\n      ts0.transform.position = ts0.transform.position;\r\n      this._leftTunnelSprite = ts0;\r\n\r\n      // 右洞\r\n      let ts1 = new TunnelSprite();\r\n      GameGlobal.GameScene.addChild(ts1);\r\n      ts1.RoadCount = data.laneNums;\r\n      ts1.startMark = data.startStakeMarkRight;\r\n      ts1.init(data.rightHoleLength, 0, addData);\r\n      ts1.setDirText(data.rightHoleDirection);\r\n     \r\n      this._rightTunnelSprite = ts1;\r\n    }\r\n\r\n\r\n    /**\r\n     * 根据唯一id查找设备\r\n     * @param id \r\n     * @returns \r\n     */\r\n    findDevice(id:string){\r\n      return this._deviceList[id];\r\n    }\r\n\r\n    /**\r\n     * 添加隧道设备\r\n     * @param data \r\n     */\r\n    addDevice(data:any){\r\n      let device:ScnenDevice = this.findDevice(data.id);\r\n      if(device){\r\n        device.changeData(data);\r\n        return;\r\n      }\r\n      if(data.leftRightFlag == 1){\r\n        device = this._rightTunnelSprite.addDevice(data);\r\n      }else{\r\n        device = this._leftTunnelSprite.addDevice(data);\r\n      }\r\n      this._deviceList[data.id] = device;\r\n    }\r\n    /**\r\n     * 批量添加设备\r\n     * @param ary \r\n     */\r\n    addDevices(ary:any){\r\n      for(let i = 0; i < ary.length; ++i){\r\n        this.addDevice(ary[i]);\r\n      }\r\n    }\r\n\r\n}","import TunnelMgr from \"./logic/TunnelMgr\";\r\nimport ModelViewer from \"./script/ModelViewer\";\r\n\r\nexport default class GameGlobal {\r\n\r\n    /** 游戏的主场景 */\r\n    public static GameScene:Laya.Scene3D;\r\n\r\n    /** 游戏的主摄像机 */\r\n    public static GameCamera:Laya.Camera; \r\n\r\n     /** 游戏的主摄像机控制脚本 */\r\n    public static CameraScript:ModelViewer;\r\n\r\n\r\n    /**\r\n     * 隧道管理\r\n     */\r\n    public static tunnelMgr:TunnelMgr = new TunnelMgr();\r\n}","/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\nimport View=Laya.View;\r\nimport Dialog=Laya.Dialog;\r\nimport Scene=Laya.Scene;\nvar REG: Function = Laya.ClassUtils.regClass;\nexport module ui.test {\r\n    export class TestSceneUI extends Scene {\r\n\t\tpublic btnReset:Laya.Button;\n\t\tpublic btnAutoView:Laya.Button;\n\t\tpublic textSelect:Laya.Text;\n        constructor(){ super()}\r\n        createChildren():void {\r\n            super.createChildren();\r\n            this.loadScene(\"test/TestScene\");\r\n        }\r\n    }\r\n    REG(\"ui.test.TestSceneUI\",TestSceneUI);\r\n}\r","import GameGlobal from \"../Global\";\r\nimport RoadNode from \"../logic/RoadNode\";\r\nimport TunnelSprite from \"../logic/TunnelSprite\";\r\nimport { ui } from \"./../ui/layaMaxUI\";\r\n/**\r\n * 本示例采用非脚本的方式实现，而使用继承页面基类，实现页面逻辑。在IDE里面设置场景的Runtime属性即可和场景进行关联\r\n * 相比脚本方式，继承式页面类，可以直接使用页面定义的属性（通过IDE内var属性定义），比如this.tipLbll，this.scoreLbl，具有代码提示效果\r\n * 建议：如果是页面级的逻辑，需要频繁访问页面内多个元素，使用继承式写法，如果是独立小模块，功能单一，建议用脚本方式实现，比如子弹脚本。\r\n */\r\nexport default class GameUI extends ui.test.TestSceneUI {\r\n    /**设置单例的引用方式，方便其他类引用 */\r\n    static instance: GameUI;\r\n    constructor() {\r\n        super();\r\n        GameUI.instance = this;\r\n\t\tthis.btnReset.on(Laya.Event.CLICK, this, this.onClickReset);\r\n        this.btnAutoView.on(Laya.Event.CLICK, this, this.onClickAutoView)\r\n\r\n        //this.siderMainLenth.changeHandler = new Laya.Handler(this, this.onChangeLenth);\r\n    }\r\n\r\n    /**\r\n     * 点击还原\r\n     */\r\n    private onClickReset(){\r\n        GameGlobal.CameraScript.reset();\r\n        this.textSelect.text = \"当前选中：无\";\r\n    }\r\n\r\n    /**\r\n     * 自动巡游\r\n     */\r\n    private onClickAutoView(){\r\n        let suidao01 = GameGlobal.GameScene.getChildByName(\"TunnelSprite0\") as TunnelSprite;\r\n        suidao01.getViewPos();\r\n    }\r\n\r\n    /**\r\n     * 隧道长度修改\r\n     */\r\n    private onChangeLenth(value:number){\r\n        let suidao01 = GameGlobal.GameScene.getChildByName(\"TunnelSprite1\") as TunnelSprite;\r\n        //suidao01.transform.position.y = value / 10;\r\n        //suidao01.transform.position = suidao01.transform.position;\r\n    }\r\n}","/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\nimport GameUI from \"./script/GameUI\"\r\n/*\r\n* 游戏初始化配置;\r\n*/\r\nexport default class GameConfig{\r\n    static width:number=1920;\r\n    static height:number=1080;\r\n    static scaleMode:string=\"fixedwidth\";\r\n    static screenMode:string=\"none\";\r\n    static alignV:string=\"middle\";\r\n    static alignH:string=\"center\";\r\n    static startScene:any=\"test/TestScene.scene\";\r\n    static sceneRoot:string=\"\";\r\n    static debug:boolean=false;\r\n    static stat:boolean=true;\r\n    static physicsDebug:boolean=false;\r\n    static exportSceneToJson:boolean=true;\r\n    constructor(){}\r\n    static init(){\r\n        var reg: Function = Laya.ClassUtils.regClass;\r\n        reg(\"script/GameUI.ts\",GameUI);\r\n    }\r\n}\r\nGameConfig.init();","export default class CameraScript extends Laya.Script3D{\r\n    /**\r\n     * 固定朝向\r\n     */\r\n    public static UP_V3:Laya.Vector3 = new Laya.Vector3(0, 1, 0);\r\n\r\n    protected  camera:Laya.BaseCamera;\r\n    protected  scene:Laya.Scene3D;\r\n\r\n    /**\r\n     * 摄像机初始坐标\r\n     */\r\n    private _initCamerPos:Laya.Vector3 = new Laya.Vector3();\r\n    \r\n    /**\r\n     * 摄像机初始位置\r\n     */\r\n    private _initCamerDir:Laya.Quaternion = new Laya.Quaternion();\r\n\r\n    /**\r\n     * 摄像机默认是否在移动中\r\n     */\r\n    protected _moveing:boolean = false;\r\n    /**\r\n     * 当前查看点\r\n     */\r\n    public curLookPos:Laya.Vector3 = new Laya.Vector3();\r\n\r\n    /**\r\n     * 自动巡检id\r\n     */\r\n    public autoViewIndex:number = 0;\r\n    constructor(){\r\n        super();\r\n    }\r\n\r\n        \r\n    /**\r\n     * 摄像机还原到默认位置\r\n     */\r\n    public reset(){\r\n        this.curLookPos.setValue(0, 0, 0);\r\n        this.tweenMoveTo(this._initCamerPos, 500, this._initCamerDir)\r\n    }\r\n        /**\r\n     * @inheritDoc\r\n     */\r\n    public  onAwake():void {\r\n        this.camera = this.owner as Laya.Camera;\r\n    }\r\n    public onStart(){\r\n        this.camera.transform.position.cloneTo(this._initCamerPos);\r\n        this.camera.transform.rotation.cloneTo(this._initCamerDir);\r\n    }\r\n    /**\r\n     * 缓动移动到指定点和方向\r\n     * @param pos \r\n     * @param dir \r\n     * @param nTime \r\n     */\r\n    public tweenMoveTo(pos:Laya.Vector3, nTime:number, dir:Laya.Quaternion = null, lookPos:Laya.Vector3=null){\r\n        let curpos = this.camera.transform.position;\r\n        this._moveing = true;\r\n        \r\n        Laya.Tween.clearAll(curpos);\r\n        Laya.Tween.to(curpos, {x:pos.x,y:pos.y,z:pos.z,\r\n            update:new Laya.Handler(this, function(){\r\n                this.camera.transform.position = curpos;\r\n                if(lookPos){\r\n                    this.camera.transform.lookAt(lookPos, CameraScript.UP_V3, false);\r\n                }\r\n            })\r\n        }, nTime, null, Laya.Handler.create(this, this.moveOver));\r\n        if(!lookPos && dir){ // 固定查看点\r\n            let curdir = this.camera.transform.rotation; \r\n            Laya.Tween.clearAll(curdir);\r\n            Laya.Tween.to(curdir, {x:dir.x,y:dir.y,z:dir.z,w:dir.w,\r\n                update:new Laya.Handler(this, function(){\r\n                    this.camera.transform.rotation = curdir\r\n                })\r\n            }, nTime);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 移动结束\r\n     */\r\n    public moveOver(){\r\n        this._moveing = false;\r\n    }\r\n}","import GameGlobal from \"../Global\";\r\nimport CameraScript from \"./CameraScript\";\r\nimport Transform3D = Laya.Transform3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Quaternion = Laya.Quaternion;\r\n\r\n\r\nexport default class ModelViewer extends CameraScript {\r\n    // Text m_debugTip;\r\n    public canRotation_X: boolean = true;\r\n    public canRotation_Y: boolean = true;\r\n    public canScale: boolean = true;\r\n    /// <summary>\r\n    /// Around center.\r\n    /// </summary>\r\n    //public target: Transform3D;\r\n    public AroundPos: Vector3 = new Vector3();\r\n    /// <summary>\r\n    /// Settings of mouse button, pointer and scrollwheel.\r\n    /// </summary>\r\n    public mouseSettings: MouseSettings = new MouseSettings(0, 0.3, 0.3);\r\n\r\n    /// <summary>\r\n    /// Range limit of angle.\r\n    /// </summary>\r\n    public angleRange: MyRange = new MyRange(-360, 360);\r\n\r\n    /// <summary>\r\n    /// Range limit of distance.\r\n    /// </summary>\r\n    public distanceRange: MyRange = new MyRange(1, 80);\r\n\r\n    /// <summary>\r\n    /// Damper for move and rotate.\r\n    /// </summary>\r\n    ///[Range(0, 10)]\r\n    public damper: number = 5;\r\n\r\n    /// <summary>\r\n    /// Camera current angls.\r\n    /// </summary>\r\n    public CurrentAngles: Vector3 = new Vector3();\r\n    public CurrentAnglesTemp: Vector3 = new Vector3();\r\n    /// <summary>\r\n    /// Current distance from camera to target.\r\n    /// </summary>\r\n    public CurrentDistance: number;\r\n\r\n    /// <summary>\r\n    /// Camera target angls.\r\n    /// </summary>\r\n    protected targetAngles: Vector3 = new Vector3();\r\n\r\n\r\n    /// <summary>\r\n    /// Target distance from camera to target.\r\n    /// </summary>\r\n    protected targetDistance: number;\r\n\r\n    protected  moveV3:Laya.Vector3 = new Laya.Vector3;\r\n    constructor() {\r\n        super();\r\n    }\r\n    public transform: Transform3D;\r\n\r\n    onStart(): void {\r\n        super.onStart();\r\n        GameGlobal.CameraScript = this;\r\n        this.initTransform();\r\n        Laya.stage.on(Laya.Event.MOUSE_DOWN, this, this.mouseDown);\r\n        Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this.mouseMove);\r\n        Laya.stage.on(Laya.Event.MOUSE_UP, this, this.mouseUp);\r\n        Laya.stage.on(Laya.Event.MOUSE_WHEEL, this, this.mouseWheel);\r\n        Laya.stage.on(Laya.Event.RIGHT_MOUSE_DOWN, this, this.rightMouseDown);\r\n        Laya.stage.on(Laya.Event.RIGHT_MOUSE_UP, this, this.rightMouseUp);\r\n    }\r\n\r\n    initTransform(){\r\n        this.transform = this.camera.transform;\r\n        this.CurrentAngles.setValue(-this.transform.rotationEuler.x, this.transform.rotationEuler.y, this.transform.rotationEuler.z);\r\n        this.targetAngles.setValue(-this.transform.rotationEuler.x, this.transform.rotationEuler.y, this.transform.rotationEuler.z);\r\n\r\n        if(this.curLookPos){\r\n            this.curLookPos.cloneTo(this.AroundPos);\r\n        }else{\r\n            this.AroundPos.setValue(0, 0, 0);\r\n        }\r\n        this.CurrentDistance = Vector3.distance(this.transform.position, this.AroundPos);\r\n        this.targetDistance = Vector3.distance(this.transform.position, this.AroundPos);\r\n    }\r\n\r\n    moveOver(){\r\n        super.moveOver();\r\n        this.initTransform();\r\n    }\r\n\r\n    onUpdate(): void {\r\n        if(this._moveing){\r\n            return;\r\n        }\r\n        this.AroundByMouseInput();\r\n        if (!this.canRotation_X) this.targetAngles.y = 0;\r\n        if (!this.canRotation_Y) this.targetAngles.x = 0;\r\n        let offsetX = this.GetAxisX;\r\n        let offsetY = this.GetAxisY;\r\n        if(this.bRightMouseDown){ // 右键控制平移移动\r\n            let r = this.transform.rotationEuler.y / 180 * Math.PI\r\n            let sr = Math.sin(r);\r\n            let cr = Math.cos(r);\r\n            let dis = this.deltaTime * 2;\r\n            this.moveV3.z = -(offsetY * cr -  offsetX* sr) * dis;\r\n            this.moveV3.x = -(offsetY * sr +  offsetX* cr) * dis;\r\n            this.transform.translate(this.moveV3, false);\r\n            Laya.Vector3.add(this.AroundPos, this.moveV3, this.AroundPos);\r\n            Laya.Vector3.add(this.curLookPos, this.moveV3, this.curLookPos);\r\n        }else{\r\n            //Lerp.\r\n            this.CurrentAngles = this.LerpVector3(this.CurrentAngles, this.targetAngles, this.deltaTime * this.damper);\r\n            this.CurrentDistance = this.LerpNum(this.CurrentDistance, this.targetDistance, this.deltaTime * this.damper);\r\n            //Update transform position and rotation.\r\n            // Quaternion.createFromYawPitchRoll(this.CurrentAngles.y,this.CurrentAngles.x,this.CurrentAngles.z,this.tempRotationZ)\r\n            // this.transform.rotation = this.tempRotationZ;\r\n            this.CurrentAnglesTemp.x = -this.CurrentAngles.x;\r\n            this.CurrentAnglesTemp.y = this.CurrentAngles.y;\r\n            this.CurrentAnglesTemp.z = this.CurrentAngles.z;\r\n            this.transform.rotationEuler = this.CurrentAnglesTemp;\r\n            Vector3.scale(this.GetForward, this.CurrentDistance, this.tempV)\r\n            Vector3.subtract(this.AroundPos, this.tempV, this.tempV1)\r\n            this.transform.position = this.tempV1;\r\n        }\r\n\r\n        this.lastMouseX = Laya.stage.mouseX;\r\n        this.lastMouseY = Laya.stage.mouseY;\r\n\r\n\r\n    }\r\n\r\n    public get GetAxisX(): number {\r\n        return Laya.stage.mouseX - this.lastMouseX;\r\n    }\r\n    public get GetAxisY(): number {\r\n        return Laya.stage.mouseY - this.lastMouseY;\r\n    }\r\n    public get deltaTime(): number {\r\n        return Laya.timer.delta / 1000;\r\n    }\r\n\r\n    public FORWORD: Vector3 = new Vector3();\r\n    public get GetForward(): Vector3 {\r\n        this.transform.getForward(this.FORWORD);\r\n        return this.FORWORD\r\n    }\r\n\r\n    public deltaWheel: number = 0;\r\n    protected lastMouseX: number = 0;\r\n    protected lastMouseY: number = 0;\r\n    protected mouseRunning: boolean = false;\r\n    protected  bRightMouseDown:Boolean;\r\n    protected mouseDown(e: Laya.Event): void {\r\n        if(e.target.parent != Laya.Scene.root){\r\n            return;\r\n        }\r\n        this.mouseRunning = true;\r\n    }\r\n    myevent: Laya.Event;\r\n    protected mouseMove(e: Laya.Event): void {\r\n        this.myevent = e;\r\n    }\r\n\r\n    protected mouseWheel(e: Laya.Event): void {\r\n        this.deltaWheel = e.delta;\r\n    }\r\n    protected mouseUp(e: Laya.Event): void {\r\n        this.mouseRunning = false;\r\n    }\r\n    protected rightMouseDown(e:Laya.Event):void{\r\n        this.bRightMouseDown = true;\r\n    }\r\n\r\n    protected rightMouseUp(e:Laya.Event){\r\n        this.lastMouseX = Laya.stage.mouseX;\r\n        this.lastMouseY = Laya.stage.mouseY;\r\n        this.bRightMouseDown = false;\r\n        this.initTransform();\r\n    }\r\n\r\n    protected Clamp(num, min, max): number {\r\n        if (num < min) {\r\n            return min;\r\n        } else if (num > max) {\r\n            return max;\r\n        } else {\r\n            return num;\r\n        }\r\n    }\r\n\r\n    protected LerpVector3(min: Vector3, max: Vector3, t: number): Vector3 {\r\n        var vec: Vector3 = new Vector3();\r\n        vec.x = min.x + t * (max.x - min.x);\r\n        vec.y = min.y + t * (max.y - min.y);\r\n        vec.z = min.z + t * (max.z - min.z);\r\n        return vec;\r\n    }\r\n    protected LerpNum(min: number, max: number, t: number): number {\r\n        return min + t * (max - min);\r\n    }\r\n\r\n    tempRotationZ: Quaternion = new Quaternion();\r\n    tempV: Vector3 = new Vector3();\r\n    tempV1: Vector3 = new Vector3();\r\n\r\n\r\n    /// <summary>\r\n    /// Camera around target by mouse input.\r\n    /// </summary>\r\n    protected AroundByMouseInput(): void {\r\n        if (this.mouseRunning) {\r\n            //Mouse pointer.\r\n            this.targetAngles.y -= (this.GetAxisX * this.mouseSettings.pointerSensitivity);\r\n            this.targetAngles.x += (this.GetAxisY * this.mouseSettings.pointerSensitivity);\r\n            //Range.\r\n            this.targetAngles.x = this.Clamp(this.targetAngles.x, this.angleRange.min, this.angleRange.max);\r\n        }\r\n        //Mouse scrollwheel.\r\n        if (this.canScale) {\r\n            this.targetDistance -= this.deltaWheel * this.mouseSettings.wheelSensitivity;\r\n            this.deltaWheel = 0;\r\n            this.targetDistance = this.Clamp(this.targetDistance, this.distanceRange.min, this.distanceRange.max);\r\n        }\r\n    }\r\n}\r\n\r\nclass MouseSettings {\r\n    /// <summary>\r\n    /// ID of mouse button.\r\n    /// </summary>\r\n    public mouseButtonID: number;\r\n\r\n    /// <summary>\r\n    /// Sensitivity of mouse pointer.\r\n    /// </summary>\r\n    public pointerSensitivity: number;\r\n\r\n    /// <summary>\r\n    /// Sensitivity of mouse ScrollWheel.\r\n    /// </summary>\r\n    public wheelSensitivity: number;\r\n\r\n    /// <summary>\r\n    /// Constructor.\r\n    /// </summary>\r\n    /// <param name=\"mouseButtonID\">ID of mouse button.</param>\r\n    /// <param name=\"pointerSensitivity\">Sensitivity of mouse pointer.</param>\r\n    /// <param name=\"wheelSensitivity\">Sensitivity of mouse ScrollWheel.</param>\r\n    constructor(mouseButtonID: number, pointerSensitivity: number, wheelSensitivity: number) {\r\n        this.mouseButtonID = mouseButtonID;\r\n        this.pointerSensitivity = pointerSensitivity;\r\n        this.wheelSensitivity = wheelSensitivity;\r\n    }\r\n}\r\n\r\n/// <summary>\r\n/// Range form min to max.\r\n/// </summary>\r\nclass MyRange {\r\n    /// <summary>\r\n    /// Min value of range.\r\n    /// </summary>\r\n    public min: number;\r\n\r\n    /// <summary>\r\n    /// Max value of range.\r\n    /// </summary>\r\n    public max: number;\r\n\r\n    /// <summary>\r\n    /// Constructor.\r\n    /// </summary>\r\n    /// <param name=\"min\">Min value of range.</param>\r\n    /// <param name=\"max\">Max value of range.</param>\r\n    constructor(min: number, max: number) {\r\n        this.min = min;\r\n        this.max = max;\r\n    }\r\n}\r\n\r\n\r\n/// <summary>\r\n/// Rectangle area on plane.\r\n/// </summary>\r\nclass PlaneArea {\r\n    /// <summary>\r\n    /// Center of area.\r\n    /// </summary>\r\n    public center: Transform3D;\r\n\r\n    /// <summary>\r\n    /// Width of area.\r\n    /// </summary>\r\n    public width: number;\r\n\r\n    /// <summary>\r\n    /// Length of area.\r\n    /// </summary>\r\n    public length: number;\r\n\r\n    /// <summary>\r\n    /// Constructor.\r\n    /// </summary>\r\n    /// <param name=\"center\">Center of area.</param>\r\n    /// <param name=\"width\">Width of area.</param>\r\n    /// <param name=\"length\">Length of area.</param>\r\n    constructor(center: Transform3D, width: number, length: number) {\r\n        this.center = center;\r\n        this.width = width;\r\n        this.length = length;\r\n    }\r\n}","import { BlurEffect } from \"./shader/BlurEffect\";\r\nimport GameConfig from \"./GameConfig\";\r\nimport GameGlobal from \"./Global\";\r\nimport ModelViewer from \"./script/ModelViewer\";\r\nclass Main {\r\n\tconstructor() {\r\n\t\t//根据IDE设置初始化引擎\t\r\n\t\tlet config = new Config3D();\r\n\t\tconfig.isAntialias = false;\r\n\t\t// config.octreeCulling = true;\r\n\t\t// config.debugFrustumCulling = true;\r\n\t\tif (window[\"Laya3D\"]) Laya3D.init(GameConfig.width, GameConfig.height, config);\r\n\t\telse Laya.init(GameConfig.width, GameConfig.height, Laya[\"WebGL\"]);\r\n\t\tLaya[\"Physics\"] && Laya[\"Physics\"].enable();\r\n\t\tLaya[\"DebugPanel\"] && Laya[\"DebugPanel\"].enable();\r\n\t\tLaya.stage.scaleMode = GameConfig.scaleMode;\r\n\t\tLaya.stage.screenMode = GameConfig.screenMode;\r\n\t\tLaya.stage.alignV = GameConfig.alignV;\r\n\t\tLaya.stage.alignH = GameConfig.alignH;\r\n\t\t//兼容微信不支持加载scene后缀场景\r\n\t\tLaya.URL.exportSceneToJson = GameConfig.exportSceneToJson;\r\n\r\n\t\t//打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）\r\n\t\tif (GameConfig.debug || Laya.Utils.getQueryString(\"debug\") == \"true\") Laya.enableDebugPanel();\r\n\t\tif (GameConfig.physicsDebug && Laya[\"PhysicsDebugDraw\"]) Laya[\"PhysicsDebugDraw\"].enable();\r\n\t\tif (GameConfig.stat) Laya.Stat.show();\r\n\t\tLaya.alertGlobalError(true);\r\n\r\n\t\t//激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程\r\n\t\tLaya.ResourceVersion.enable(Laya.Browser.window._VERSION_JSON || \"version.json\", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);\r\n\t}\r\n\r\n\tonVersionLoaded(): void {\r\n\t\t//激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图\r\n\t\tLaya.AtlasInfoManager.enable(\"fileconfig.json\", Laya.Handler.create(this, this.onConfigLoaded));\r\n\t}\r\n\r\n\tonConfigLoaded(): void {\r\n\t\tLaya.Scene3D.load(\"res/LayaScene_suidao/Conventional/suidao.ls\", Laya.Handler.create(this, this.onLoadScene));\r\n\t}\r\n\r\n\t// 下载场景结束\r\n\tonLoadScene(scn:Laya.Scene3D){\r\n\t\tLaya.stage.addChild(scn);\r\n\r\n\t\tGameGlobal.GameScene = scn;\r\n\t\tGameGlobal.GameCamera = scn.getChildByName(\"Main Camera\") as Laya.Camera;\r\n\t\tGameGlobal.GameCamera.addComponent(ModelViewer);\r\n\t\t//GameGlobal.GameCamera.farPlane = 500; //设置渲染范围\r\n\r\n\t\tGameGlobal.tunnelMgr.init(scn);\r\n\t\tGameConfig.startScene && Laya.Scene.open(GameConfig.startScene); //加载IDE指定的场景\r\n\r\n\t\t// if(Laya.Browser.window.parent.game_3d_sdk){\r\n\t\t// \tLaya.Browser.window.parent.game_3d_sdk.loaded(GameGlobal.tunnelMgr);\r\n\t\t// }else{\r\n\t\t// \tvar data = {\r\n\t\t// \t\ttunnelId:\"a32932b8-7355-4de5-adf9-034075c89d2c\", // 隧道id\r\n\t\t// \t\tleftHoleLength:1056, // 左洞长度（米）\r\n\t\t// \t\trightHoleLength:1107, // 右洞长度（米）\r\n\t\t// \t\tendStakeMark:710213,  // 左洞结束桩号（桩号米）\r\n\t\t// \t\tendStakeMarkRight:710253, // 右洞结束桩号（桩号米）\r\n\t\t// \t\tlaneNums:3,  // 车道数（个）  \r\n\t\t// \t\tstartStakeMark:709157,  // 左洞开始桩号（桩号米） \r\n\t\t// \t\tstartStakeMarkRight:709146,  // 右洞开始桩号（桩号米）\r\n\t\t// \t\tleftHoleDirection: \"1岳阳方向\", // 左洞方向 \r\n\t\t// \t\trightHoleDirection: \"1湘潭方向\", // 右洞方向 \r\n\t\t// \t\tsingleDoubleType: 3, // 单双洞类型（1单右洞 2单左洞 3双洞）\r\n\t\t// \t  }\r\n\t\t// \t  GameGlobal.tunnelMgr.loadTunnel(data);\r\n\t\t// }\r\n\r\n\t\t// 定义消息格式\r\n\t\tLaya.Browser.window.addEventListener(\"message\", function(event){\r\n\t\t\tlet msg = event.data;\r\n\t\t\tswitch(msg.msgType){\r\n\t\t\t\tcase \"loadTunnel\":\r\n\t\t\t\t\tGameGlobal.tunnelMgr.loadTunnel(msg.msgData, msg.addData);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"addDevice\":\r\n\t\t\t\t\tGameGlobal.tunnelMgr.addDevice(msg.msgData);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"addDevices\":\r\n\t\t\t\tGameGlobal.tunnelMgr.addDevices(msg.msgData);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t\tif(Laya.Browser.window.parent){\r\n\t\t\tlet msg = {\r\n\t\t\t\tmsgType:\"loaded\",\r\n\t\t\t}\r\n\t\t\tLaya.Browser.window.parent.postMessage(msg);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n}\r\n//激活启动类\r\nnew Main();\r\n"],"names":["QbBoardScripte"],"mappings":"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"}